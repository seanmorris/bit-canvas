!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,u=i.length;a<u;a++)".."===(n=i[a])?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t,r){var i,o={id:t,exports:{},hot:v&&v.createHot(t)};return n[t]=o,r(o.exports,(i=t,function(t){var n=a(u(i),t);return e.require(n,i)}),o),o.exports},c=function(e){var t=r[e];return t&&e!==t?c(t):e},l=function(e,r){null==r&&(r="/");var o=c(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return s(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};l.alias=function(e,t){r[t]=e};var f=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/;l.register=l.define=function(e,o){if(e&&"object"==typeof e)for(var a in e)i.call(e,a)&&l.register(a,e[a]);else t[e]=o,delete n[e],function(e){if(f.test(e)){var t=e.replace(f,"");i.call(r,t)&&r[t].replace(f,"")!==t+"/index"||(r[t]=e)}if(p.test(e)){var n=e.replace(p,"");i.call(r,n)||(r[n]=e)}}(e)},l.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var v=e._hmr&&new e._hmr(function(e,t){return c(a(u(e),t))},l,t,n);l._cache=n,l.hmr=v&&v.wrap,l.brunch=!0,e.require=l}}(),function(){"undefined"==typeof window||window;var e=function(e,t,n){var r={},i=function(t,n){try{return e(n+"/node_modules/"+t)}catch(e){if(-1===e.toString().indexOf("Cannot find module"))throw e;if(-1!==n.indexOf("node_modules")){var o=n.split("/"),a=o.lastIndexOf("node_modules"),u=o.slice(0,a).join("/");return i(t,u)}}return r};return function(o){if(o in t&&(o=t[o]),o){if("."!==o[0]&&n){var a=i(o,n);if(a!==r)return a}return e(o)}}};require.register("curvature/base/Bag.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bag=void 0;var e=n("./Bindable");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.meta=Symbol("meta"),this.content=new Map,this.list=e.Bindable.makeBindable({}),this.current=0,this.type=void 0,this.changeCallback=n}var n,i,o;return n=t,(i=[{key:"add",value:function(e){if(void 0===e||!(e instanceof Object))throw new Error("Only objects may be added to Bags.");if(this.type&&!(e instanceof this.type))throw console.error(this.type,e),new Error("Only objects of type ".concat(this.type," may be added to this Bag."));if(!this.content.has(e)){var n,r=(n=this.current++,Number(n).toString(36));this.content.set(e,r),this.list[r]=e,this.changeCallback&&this.changeCallback(e,this.meta,t.ITEM_ADDED,r)}}},{key:"remove",value:function(e){if(void 0===e||!(e instanceof Object))throw new Error("Only objects may be removed from Bags.");if(this.type&&!(e instanceof this.type))throw console.error(this.type,e),new Error("Only objects of type ".concat(this.type," may be removed from this Bag."));if(!this.content.has(e))return this.changeCallback&&this.changeCallback(e,this.meta,0,void 0),!1;var n=this.content.get(e);return delete this.list[n],this.content.delete(e),this.changeCallback&&this.changeCallback(e,this.meta,t.ITEM_REMOVED,n),e}},{key:"items",value:function(){return Array.from(this.content.entries()).map(function(e){return e[0]})}}])&&r(n.prototype,i),o&&r(n,o),t}();t.Bag=i,Object.defineProperty(i,"ITEM_ADDED",{configurable:!1,enumerable:!1,writable:!0,value:1}),Object.defineProperty(i,"ITEM_REMOVED",{configurable:!1,enumerable:!1,writable:!0,value:-1})}()}),require.register("curvature/base/Bindable.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(t,r,i){return(e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o}).apply(null,arguments)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Bindable=void 0;var u,s,c,l=Symbol("ref"),f=Symbol("original"),p=Symbol("deck"),v=Symbol("binding"),h=Symbol("subBinding"),d=Symbol("bindingAll"),b=Symbol("isBindable"),y=Symbol("wrapping"),m=Symbol("executing"),g=Symbol("stack"),w=(Symbol("object"),Symbol("wrapped")),_=Symbol("unwrapped"),O=Symbol("getProto"),P=Symbol("onGet"),j=Symbol("onAllGet"),S=Symbol("bindChain"),k=Object.getPrototypeOf(Int8Array),R=window||{},A=[R.Node,R.File,R.Map,R.Set,R.ArrayBuffer,R.ResizeObserver,R.MutationObserver,R.PerformanceObserver,R.IntersectionObserver].filter(function(e){return"function"==typeof e}),T=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,u;return n=t,u=[{key:"isBindable",value:function(e){return!(!e||!e[b])&&e[b]===t}},{key:"onDeck",value:function(e,t){return e[p][t]||!1}},{key:"ref",value:function(e){return e[l]||!1}},{key:"makeBindable",value:function(e){return this.make(e)}},{key:"shuck",value:function(e,n){n=n||new Map;var r={};if(e instanceof k||e instanceof ArrayBuffer){var i=e.slice(0);return n.set(e,i),i}var a=Object.keys(e);for(var u in a){var s=a[u];if("___"!==s.substring(0,3)){var c=n.get(e[s]);if(c)r[s]=c;else if(e[s]!==e){if(e[s]&&"object"===o(e[s])){var l=e[s];t.isBindable(e[s])&&(l=e[s][f]),r[s]=this.shuck(l,n)}else r[s]=e[s];n.set(e[s],r[s])}else n.set(e[s],r),r[s]=r}}return t.isBindable(e)&&(delete r.bindTo,delete r.isBound),r}},{key:"make",value:function(n){var i=this;if(!n||!["function","object"].includes(o(n)))return n;if(A.filter(function(e){return n instanceof e}).length||Object.isSealed(n)||!Object.isExtensible(n))return n;if(n[l])return n;if(n[v])return n;Object.defineProperty(n,l,{configurable:!0,enumerable:!1,writable:!0,value:n}),Object.defineProperty(n,f,{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(n,p,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,v,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,h,{configurable:!1,enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(n,d,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,b,{configurable:!1,enumerable:!1,writable:!1,value:t}),Object.defineProperty(n,m,{enumerable:!1,writable:!0}),Object.defineProperty(n,y,{enumerable:!1,writable:!0}),Object.defineProperty(n,g,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___before___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___after___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,w,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,_,{configurable:!1,enumerable:!1,writable:!1,value:{}});Object.defineProperty(n,"bindTo",{configurable:!1,enumerable:!1,writable:!1,value:function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=!1;if(Array.isArray(r)){var c=r.map(function(t){return e(t,a,u)});return function(){return c.map(function(e){return e()})}}if(r instanceof Function&&(u=a||{},a=r,s=!0),u.delay>=0&&(a=i.wrapDelayCallback(a,u.delay)),u.throttle>=0&&(a=i.wrapThrottleCallback(a,u.throttle)),u.wait>=0&&(a=i.wrapWaitCallback(a,u.wait)),u.frame&&(a=i.wrapFrameCallback(a,u.frame)),u.idle&&(a=i.wrapIdleCallback(a)),s){var l=n[d].length;if(n[d].push(a),!("now"in u)||u.now)for(var f in n)a(n[f],f,n,!1);return function(){delete n[d][l]}}n[v][r]||(n[v][r]=[]);var p=n[v][r].length;if(u.children){var b=a;a=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r[0],s=n[h].get(b);if(s&&(n[h].delete(b),s()),"object"===o(a)){var c=t.make(a);t.isBindable(c)&&n[h].set(b,c.bindTo(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.apply(void 0,r.concat(t))},Object.assign({},u,{children:!1}))),b.apply(void 0,r)}else b.apply(void 0,r)}}n[v][r].push(a),"now"in u&&!u.now||a(n[r],r,n,!1);var y=!1,m=function(){var e=n[h].get(a);e&&(n[h].delete(a),e()),y||(y=!0,n[v][r]&&delete n[v][r][p])};return u.removeWith&&u.removeWith instanceof View&&u.removeWith.onRemove(function(){return m}),m}});Object.defineProperty(n,S,{configurable:!1,enumerable:!1,writable:!1,value:function(e,t){var r=e.split("."),o=r.shift(),a=r.slice(0),u=[];return u.push(n.bindTo(o,function(e,n,r,o){var s=a.join(".");0!==a.length?(void 0===e&&(e=r[n]=i.makeBindable({})),u=u.concat(e[S](s,t))):t(e,n,r,o)})),function(){return u.map(function(e){return e()})}}}),Object.defineProperty(n,"___before",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var t=n.___before___.length;n.___before___.push(e);var r=!1;return function(){r||(r=!0,delete n.___before___[t])}}}),Object.defineProperty(n,"___after",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var t=n.___after___.length;n.___after___.push(e);var r=!1;return function(){r||(r=!0,delete n.___after___[t])}}});Object.defineProperty(n,"isBound",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var e in n[d])if(n[d][e])return!0;for(var t in n[v])for(var r in n[v][t])if(n[v][t][r])return!0;return!1}});var a=function(e){n[e]&&n[e]instanceof Object&&!n[e]instanceof Promise&&(A.filter(function(t){return n[e]instanceof t}).length||!Object.isExtensible(n[e])||Object.isSealed(n[e])||(n[e]=t.make(n[e])))};for(var u in n)a(u);return Object.defineProperty(n,l,{configurable:!1,enumerable:!1,writable:!1,value:new Proxy(n,{get:function(r,i){if(i===l||i===f||"apply"===i||"isBound"===i||"bindTo"===i||"__proto__"===i)return r[i];var o=Object.getOwnPropertyDescriptor(n,i);return!o||o.configurable||o.writable?n[j]?n[j](i):!n[P]||i in n?r[w][i]?r[w][i]:!o||o.configurable||o.writable?"function"==typeof r[i]?(Object.defineProperty(r[_],i,{configurable:!1,enumerable:!1,writable:!1,value:r[i]}),r[w][i]=t.make(function(){var t,o=n instanceof Promise||n instanceof Map||n instanceof Set||"function"==typeof Date&&n instanceof Date||"function"==typeof k&&n instanceof k||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"function"==typeof EventTarget&&n instanceof EventTarget||"function"==typeof ResizeObserver&&n instanceof ResizeObserver||"function"==typeof MutationObserver&&n instanceof MutationObserver||"function"==typeof PerformanceObserver&&n instanceof PerformanceObserver||"function"==typeof IntersectionObserver&&n instanceof IntersectionObserver?n:n[l];r[m]=i,r[g].unshift(i);for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];for(var c in r.___before___)r.___before___[c](r,i,r[g],n,u);for(var f in t=new.target?e(r[_][i],u):Object.getPrototypeOf(r)[i]===r[i]?r[i].apply(o||n,u):r[i].apply(r,u),r.___after___)r.___after___[f](r,i,r[g],n,u);return r[m]=null,r[g].shift(),t}),r[w][i]):r[i]:(r[w][i]=r[i],r[w][i]):n[P](i):r[i]},set:function(e,r,i){if(r===f)return!0;if(void 0!==n[p][r]&&n[p][r]===i)return!0;if("string"==typeof r&&"___"===r.substring(0,3)&&"___"===r.slice(-3))return!0;if(e[r]===i)return!0;for(var o in i&&i instanceof Object&&(A.filter(function(e){return n instanceof e}).length||!Object.isExtensible(n)||Object.isSealed(n)||(i=t.makeBindable(i))),n[p][r]=i,n[d])n[d][o]&&n[d][o](i,r,e,!1);var a=!1;if(r in n[v])for(var u in n[v][r])n[v][r]&&n[v][r][u]&&!1===n[v][r][u](i,r,e,!1,e[r])&&(a=!0);if(delete n[p][r],!a){var s=Object.getOwnPropertyDescriptor(e,r);e instanceof File&&"lastModifiedDate"==r||s&&!s.writable||e[r]!==i||(e[r]=i)}return Reflect.set(e,r,i)},construct:function(n,i){var o="constructor";for(var a in n.___before___)n.___before___[a](n,o,n[g],void 0,i);var u=t.make(e(n[f],r(i)));for(var s in n.___after___)n.___after___[s](n,o,n[g],u,i);return u},getPrototypeOf:function(e){return O in n?n[O]:Reflect.getPrototypeOf(e)},deleteProperty:function(e,t){if(!(t in e))return!0;for(var r in n[d])n[d][r](void 0,t,e,!0,e[t]);if(t in n[v])for(var i in n[v][t])n[v][t][i]&&n[v][t][i](void 0,t,e,!0,e[t]);return delete e[t],!0}})}),n[l]}},{key:"clearBindings",value:function(e){var t;(t=function(e){return Object.keys(e).map(function(t){return delete e[t]})},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(t)})(e[w],e[v],e[d],e.___after___,e.___before___)}},{key:"resolve",value:function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.split("."),o=i[0];i.length;){if(r&&1===i.length)return[this.makeBindable(e),i.shift(),o];!(!(n=i.shift())in e)&&e[n]&&e[n]instanceof Object||(e[n]={}),e=this.makeBindable(e[n])}return[this.makeBindable(e),n,o]}},{key:"wrapDelayCallback",value:function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return setTimeout(function(){return e.apply(void 0,r)},t)}}},{key:"wrapThrottleCallback",value:function(e,t){var n=this;return this.throttles.set(e,!1),function(e){return function(){n.throttles.get(e,!0)||(e.apply(void 0,arguments),n.throttles.set(e,!0),setTimeout(function(){n.throttles.set(e,!1)},t))}}(e)}},{key:"wrapWaitCallback",value:function(e,t){var n=!1;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&(clearTimeout(n),n=!1),n=setTimeout(function(){return e.apply(void 0,i)},t)}}},{key:"wrapFrameCallback",value:function(e,t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];requestAnimationFrame(function(){return e.apply(void 0,n)})}}},{key:"wrapIdleCallback",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(window.requestIdleCallback||requestAnimationFrame)(function(){return e.apply(void 0,n)})}}}],(i=null)&&a(n.prototype,i),u&&a(n,u),t}();t.Bindable=T,u=T,s="throttles",c=new WeakMap,s in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,Object.defineProperty(T,"OnGet",{configurable:!1,enumerable:!1,writable:!1,value:P}),Object.defineProperty(T,"GetProto",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.defineProperty(T,"OnAllGet",{configurable:!1,enumerable:!1,writable:!1,value:j})}()}),require.register("curvature/base/Cache.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,i=[{key:"store",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",i=0;n&&(i=1e3*n+(new Date).getTime()),this.bucket||(this.bucket={}),this.bucket[r]||(this.bucket[r]={}),this.bucket[r][e]={expiration:i,value:t}}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[n]&&this.bucket[n][e]&&(0==this.bucket[n][e].expiration||this.bucket[n][e].expiration>(new Date).getTime())?this.bucket[n][e].value:t}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}();t.Cache=n}()}),require.register("curvature/base/Config.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var r={};try{r=n("/Config").Config||{}}catch(e){!0===window.devMode&&console.error(e)}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,i=[{key:"get",value:function(e){return this.configs[e]}},{key:"set",value:function(e,t){return this.configs[e]=t,this}},{key:"dump",value:function(){return this.configs}},{key:"init",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r in t){var i=t[r];for(var o in"string"==typeof i&&(i=JSON.parse(i)),i){var a=i[o];return this.configs[o]=a}}return this}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}();t.Config=i,Object.defineProperty(i,"configs",{configurable:!1,enumerable:!1,writable:!1,value:r})}()}),require.register("curvature/base/Dom.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dom=void 0;var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,i=[{key:"mapTags",value:function(e,t,n,r,i){var o=[],a=!0;r&&(a=!1);var u=!1,s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(e,n){if(!a){if(e!==r)return NodeFilter.FILTER_SKIP;a=!0}return i&&e===i&&(u=!0),u?NodeFilter.FILTER_SKIP:t?e instanceof Element&&e.matches(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);for(0;s.nextNode();)o.push(n(s.currentNode,s));return o}},{key:"dispatchEvent",value:function(e,n){e.dispatchEvent(n),t.mapTags(e,!1,function(e){e.dispatchEvent(n)})}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}();t.Dom=n}()}),require.register("curvature/base/Mixin.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mixin=void 0;var e=n("./Bindable");function r(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=Symbol("constructor"),b=(Symbol("mixinList"),function(){function t(){v(this,t)}var n,a,u;return n=t,u=[{key:"from",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var a=c(u);function u(){var e;v(this,u);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];var p,h=e=a.call.apply(a,[this].concat(s)),d=o(r);try{for(d.s();!(p=d.n()).done;){var b=p.value;switch(b[t.Constructor]&&b[t.Constructor].apply(f(e)),i(b)){case"object":t.mixObject(b,f(e))}}}catch(e){d.e(e)}finally{d.f()}return l(e,h)}return u}()}},{key:"to",value:function(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.map(function(n){switch(i(n)){case"object":Object.assign(t,Object.getOwnPropertyDescriptors(n));break;case"function":Object.assign(t,Object.getOwnPropertyDescriptors(n.prototype))}delete t.constructor,console.log(t),Object.defineProperties(e.prototype,t)})}},{key:"with",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.from.apply(this,[Object].concat(t))}},{key:"mixObject",value:function(e,t){var n,r=o(Object.getOwnPropertyNames(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;"function"!=typeof e[i]?t[i]=e[i]:t[i]=e[i].bind(t)}}catch(e){r.e(e)}finally{r.f()}var a,u=o(Object.getOwnPropertySymbols(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;"function"!=typeof e[s]?t[s]=e[s]:t[s]=e[s].bind(t)}}catch(e){u.e(e)}finally{u.f()}}},{key:"mixClass",value:function(e,t){var n,r=o(Object.getOwnPropertyNames(e.prototype));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.prototype[i]=e.prototype[i].bind(t.prototype)}}catch(e){r.e(e)}finally{r.f()}var a,u=o(Object.getOwnPropertySymbols(e.prototype));try{for(u.s();!(a=u.n()).done;){var s=a.value;t.prototype[s]=e.prototype[s].bind(t.prototype)}}catch(e){u.e(e)}finally{u.f()}var c,l=o(Object.getOwnPropertyNames(e));try{var f=function(){var n=c.value;if("function"!=typeof e[n])return"continue";var r=t[n]||!1,i=e[n].bind(t);t[n]=function(){return r&&r.apply(void 0,arguments),i.apply(void 0,arguments)}};for(l.s();!(c=l.n()).done;)f()}catch(e){l.e(e)}finally{l.f()}var p,v=o(Object.getOwnPropertySymbols(e));try{var h=function(){var n=p.value;if("function"!=typeof e[n])return"continue";var r=t[n]||!1,i=e[n].bind(t);t[n]=function(){return r&&r.apply(void 0,arguments),i.apply(void 0,arguments)}};for(v.s();!(p=v.n()).done;)h()}catch(e){v.e(e)}finally{v.f()}}},{key:"mix",value:function(t){for(var n={},i={},a=e.Bindable.makeBindable(t),u=function(e){var t,u=Object.getOwnPropertyNames(e.prototype),s=/^(before|after)__(.+)/,c=o(Object.getOwnPropertyNames(e));try{var l=function(){var i=t.value,o=i.match(s);if(o){switch(o[1]){case"before":a.___before(function(t,n,a,u,s){if(n===o[2])return e[i].bind(u).apply(void 0,r(s))});break;case"after":a.___after(function(t,n,a,u,s){if(n===o[2])return e[i].bind(u).apply(void 0,r(s))})}return"continue"}return n[i]?"continue":"function"!=typeof e[i]?"continue":void(n[i]=e[i])};for(c.s();!(t=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}var f,p=o(u);try{var v=function(){var t=f.value,n=t.match(s);if(n){switch(n[1]){case"before":a.___before(function(i,o,a,u,s){if(o===n[2])return e.prototype[t].bind(u).apply(void 0,r(s))});break;case"after":a.___after(function(i,o,a,u,s){if(o===n[2])return e.prototype[t].bind(u).apply(void 0,r(s))})}return"continue"}return i[t]?"continue":"function"!=typeof e.prototype[t]?"continue":void(i[t]=e.prototype[t])};for(p.s();!(f=p.n()).done;)v()}catch(e){p.e(e)}finally{p.f()}},s=this;s&&s.prototype;s=Object.getPrototypeOf(s))u(s);for(var c in n)t[c]=n[c].bind(t);var l=function(e){t.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i[e].apply(this,n)}};for(var f in i)l(f);return a}}],(a=null)&&h(n.prototype,a),u&&h(n,u),t}());t.Mixin=b,b.Constructor=d}()}),require.register("curvature/base/Router.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var e=n("./View"),r=(n("./Cache"),n("./Config")),i=n("./Routes");function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=Symbol("NotFound"),c=Symbol("Internal"),l=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,a,c;return n=t,c=[{key:"wait",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOMContentLoaded";(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).addEventListener(n,function(){t.listen(e)})}},{key:"listen",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.routes=n,Object.assign(this.query,this.queryOver({}));var r=function(n){for(var r in n.preventDefault(),n.state&&"routedId"in n.state?n.state.routedId<=t.routeCount?(t.history.splice(n.state.routedId),t.routeCount=n.state.routedId):n.state.routedId>t.routeCount&&(t.history.push(n.state.prev),t.routeCount=n.state.routedId):null!==t.prevPath&&t.prevPath!==location.pathname&&t.history.push(t.prevPath),"null"!==location.origin?t.match(location.pathname,e):t.match(t.nextPath,e),t.query)delete t.query[r];Object.assign(t.query,t.queryOver({}))};window.addEventListener("popstate",r),window.addEventListener("cvUrlChanged",r);var i="null"!==location.origin&&location.pathname+location.search;location.origin&&location.hash&&(i+=location.hash),this.go(!1!==i?i:"/")}},{key:"go",value:function(e,t){var n=r.Config.get("title");for(var i in n&&(document.title=n),"null"===location.origin?this.nextPath=e:2===t&&location.pathname!==e?history.replaceState({routedId:this.routeCount,prev:this.prevPath,url:location.pathname},null,e):location.pathname!==e&&history.pushState({routedId:++this.routeCount,prev:this.prevPath,url:location.pathname},null,e),t||(!1===t&&(this.path=null),"#"===e.substring(0,1)?window.dispatchEvent(new HashChangeEvent("hashchange")):window.dispatchEvent(new CustomEvent("cvUrlChanged"))),this.query)delete this.query[i];Object.assign(this.query,this.queryOver({})),this.prevPath=e}},{key:"match",value:function(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.path!==t||o){this.queryString=location.search,this.path=t;var a=this.prevPath,u=n.args.content,c=this.routes||n.routes||i.Routes.dump();new URLSearchParams(location.search);for(var l in this.query)delete this.query[l];Object.assign(this.query,this.queryOver({}));var f={},p=!1,v="";for(var h in t=t.substr(1).split("/"),this.query)f[h]=this.query[h];e:for(var d in c){var b=d.split("/");if(!(b.length<t.length&&"*"!==b[b.length-1])){for(var y in b)if("%"==b[y].substr(0,1)){var m=null,g=/^%(\w+)\??/.exec(b[y]);if(g&&g[1]&&(m=g[1]),!m)throw new Error("".concat(b[y],' is not a valid argument segment in route "').concat(d,'"'));if(t[y])f[m]=t[y];else{if("?"!=b[y].substr(b[y].length-1,1))continue e;f[m]=""}}else if("*"!==b[y]&&t[y]!==b[y])continue e;p=d,v=c[d],"*"===b[b.length-1]&&(f.pathparts=t.slice(b.length-1));break}}var w=new CustomEvent("cvRouteStart",{cancelable:!0,detail:{path:t,prev:a,root:n,selected:p,routes:c}});if(document.dispatchEvent(w)){if(!o&&n&&u&&v instanceof Object&&u instanceof v&&!(v instanceof Promise)&&u.update(f))return n.args.content=u,!0;try{p in c||(c[p]=c[s]);var _=function(t){return"function"==typeof c[t]?c[t].prototype instanceof e.View?new c[t](f):c[t](f):c[t]};return!1===(v=_(p))&&(v=_(s)),v instanceof Promise?v.then(function(e){r.update(n,t,e,c,p,f,o)}).catch(function(e){throw document.dispatchEvent(new CustomEvent("cvRouteError",{detail:{error:e,path:t,prev:a,view:n,routes:c,selected:p}})),r.update(n,t,window.devMode?String(e):"Error: 500",c,p,f,o),e}):this.update(n,t,v,c,p,f,o)}catch(e){throw document.dispatchEvent(new CustomEvent("cvRouteError",{detail:{error:e,path:t,prev:a,view:n,routes:c,selected:p}})),this.update(n,t,window.devMode?String(e):"Error: 500",c,p,f,o),e}}}}},{key:"update",value:function(t,n,r,i,o,a,u){if(t){var s=this.prevPath,c=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:r,path:n,prev:s,view:t,routes:i,selected:o}});!1!==r&&(t.args.content instanceof e.View&&(t.args.content.pause(!0),t.args.content.remove()),document.dispatchEvent(c)&&(t.args.content=r),r instanceof e.View&&(r.pause(!1),r.update(a,u)));var l=new CustomEvent("cvRouteEnd",{cancelable:!0,detail:{result:r,path:n,prev:s,view:t,routes:i,selected:o}});document.dispatchEvent(l)}}},{key:"queryOver",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={},i=o(new URLSearchParams(location.search));try{for(i.s();!(e=i.n()).done;){var a=e.value;r[a[0]]=a[1]}}catch(e){i.e(e)}finally{i.f()}return delete(n=Object.assign(n,r,t)).api,n}},{key:"queryToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=e;for(var i in t||(r=this.queryOver(e)),r)""!==r[i]&&n.push(i+"="+encodeURIComponent(r[i]));return n.join("&")}},{key:"setQuery",value:function(e,t,n){var r=this.queryOver();r[e]=t,void 0===t&&delete r[e];var i=this.queryToString(r,!0);this.go(location.pathname+(i?"?"+i:""),n)}}],(a=null)&&u(n.prototype,a),c&&u(n,c),t}();t.Router=l,Object.defineProperty(l,"query",{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(l,"history",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(l,"routeCount",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(l,"prevPath",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(l,"queryString",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(l,"InternalError",{configurable:!1,enumerable:!1,writable:!1,value:c}),Object.defineProperty(l,"NotFoundError",{configurable:!1,enumerable:!1,writable:!1,value:s})}()}),require.register("curvature/base/Routes.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=void 0;var r={};try{Object.assign(r,n("Routes").Routes||{})}catch(e){!0===window.devMode&&console.warn(e)}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,i=[{key:"get",value:function(e){return this.routes[e]}},{key:"dump",value:function(){return this.routes}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}();t.Routes=i,Object.defineProperty(i,"routes",{configurable:!1,enumerable:!1,writable:!1,value:r})}()}),require.register("curvature/base/RuleSet.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuleSet=void 0;n("./Dom");var e=n("./Tag"),r=n("./View");function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o,u;return n=t,u=[{key:"add",value:function(e,t){return this.globalRules=this.globalRules||{},this.globalRules[e]=this.globalRules[e]||[],this.globalRules[e].push(t),this}},{key:"apply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in this.globalRules)for(var r in this.globalRules[n]){var o,a=this.globalRules[n][r],u=this.wrap(e,a,t),s=i(e.querySelectorAll(n));try{for(s.s();!(o=s.n()).done;){u(o.value)}}catch(e){s.e(e)}finally{s.f()}}}},{key:"wait",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOMContentLoaded",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,r=function(t,n){return function(){return n.removeEventListener(t,r),e.apply()}}(t,n);n.addEventListener(t,r)}},{key:"wrap",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(n instanceof r.View||n&&n.prototype&&n.prototype instanceof r.View)&&(n=function(e){return function(){return e}}(n)),function(t){for(var o in void 0===t.___cvApplied___&&Object.defineProperty(t,"___cvApplied___",{enumerable:!1,writable:!1,value:[]}),t.___cvApplied___)if(n==t.___cvApplied___[o])return;var a,u;i&&(a=u=i,i.viewList&&(u=i.viewList.parent)),u&&u.onRemove(function(){return t.___cvApplied___.splice(0)});var s,c=new e.Tag(t,u,null,void 0,a),l=c.element.parentNode,f=c.element.nextSibling,p=n(c);if(!1!==p&&t.___cvApplied___.push(n),p instanceof HTMLElement&&(p=new e.Tag(p)),p instanceof e.Tag){if(!p.element.contains(c.element)){for(;c.element.firstChild;)p.element.appendChild(c.element.firstChild);c.remove()}f?l.insertBefore(p.element,f):l.appendChild(p.element)}p&&p.prototype&&p.prototype instanceof r.View&&(p=new p({},i)),p instanceof r.View&&(i&&(i.cleanup.push((s=p,function(){s.remove()})),i.cleanup.push(i.args.bindTo(function(e,t,n){n[t]=e,p.args[t]=e})),i.cleanup.push(p.args.bindTo(function(e,t,n,r){n[t]=e,i.args[t]=e}))),c.clear(),p.render(c.element))}}}],(o=[{key:"add",value:function(e,t){return this.rules=this.rules||{},this.rules[e]=this.rules[e]||[],this.rules[e].push(t),this}},{key:"apply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in t.apply(e,n),this.rules)for(var o in this.rules[r]){var a,u=this.rules[r][o],s=t.wrap(e,u,n),c=i(e.querySelectorAll(r));try{for(c.s();!(a=c.n()).done;){s(a.value)}}catch(e){c.e(e)}finally{c.f()}}}}])&&a(n.prototype,o),u&&a(n,u),t}();t.RuleSet=u}()}),require.register("curvature/base/Tag.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var e=n("./Bindable");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function t(n,r,i,o,a){var u,s=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof n){var c=document.createRange().createContextualFragment(n);n=c.firstChild}return this.element=e.Bindable.makeBindable(n),this.node=this.element,this.parent=r,this.direct=a,this.ref=i,this.index=o,this.cleanup=[],this[e.Bindable.OnAllGet]=function(e){return"function"==typeof s[e]?s[e]:s.node&&"function"==typeof s.node[e]?function(){var t;return(t=s.node)[e].apply(t,arguments)}:s.node&&e in s.node?s.node[e]:s[e]},this.style=(u=this,e.Bindable.make(function(e){if(u.node){var t=new CustomEvent("cvStyle",{detail:{styles:e}});if(u.node.dispatchEvent(t))for(var n in e)"-"===n[0]&&u.node.style.setProperty(n,e[n]),u.node.style[n]=e[n]}})),this.proxy=e.Bindable.make(this),this.proxy.style.bindTo(function(e,t){s.element.style[t]=e}),this.proxy.bindTo(function(e,t){return t in n&&(n[t]=e),!1}),this.proxy}var n,i,o;return n=t,(i=[{key:"attr",value:function(e){for(var t in e)void 0===e[t]?this.node.removeAttribute(t):null===e[t]?this.node.setAttribute(t,""):this.node.setAttribute(t,e[t])}},{key:"remove",value:function(){var t;for(this.node&&this.node.remove(),e.Bindable.clearBindings(this);t=this.cleanup.shift();)t();if(this.clear(),this.node){var n=new Event("cvDomDetached");this.node.dispatchEvent(n),this.node=this.element=this.ref=this.parent=void 0}}},{key:"clear",value:function(){if(this.node)for(var e=new Event("cvDomDetached");this.node.firstChild;)this.node.firstChild.dispatchEvent(e),this.node.removeChild(this.node.firstChild)}},{key:"pause",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"listen",value:function(e,t,n){var r=this.node;r.addEventListener(e,t,n);var i=function(){r.removeEventListener(e,t,n)},o=function(){i(),i=function(){return console.warn("Already removed!")}};return this.parent.onRemove(function(){return o()}),o}}])&&r(n.prototype,i),o&&r(n,o),t}();t.Tag=i}()}),require.register("curvature/base/View.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var e=n("./Bindable"),r=n("./ViewList"),i=n("./Router"),o=n("./Dom"),a=n("./Tag"),u=n("./Bag"),s=n("./RuleSet"),c=n("./Mixin"),l=(n("../mixin/PromiseMixin"),n("../mixin/EventTargetMixin"));function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function d(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=Symbol("dontParse"),S=Symbol("expandBind"),k=Symbol("uuid"),R=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(d,c.Mixin["with"](l.EventTargetMixin));var f=w(d);function d(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=f.call(this,n,r),Object.defineProperty(O(t),"args",{value:e.Bindable.make(n)}),Object.defineProperty(O(t),k,{value:t.uuid()}),Object.defineProperty(O(t),"attach",{value:new u.Bag(function(e,t,n){})}),Object.defineProperty(O(t),"detach",{value:new u.Bag(function(e,t,n){})}),Object.defineProperty(O(t),"_onRemove",{value:new u.Bag(function(e,t,n){})}),Object.defineProperty(O(t),"cleanup",{value:[]}),Object.defineProperty(O(t),"parent",{value:r}),Object.defineProperty(O(t),"views",{value:new Map}),Object.defineProperty(O(t),"viewLists",{value:new Map}),Object.defineProperty(O(t),"withViews",{value:new Map}),Object.defineProperty(O(t),"tags",{value:e.Bindable.make({})}),Object.defineProperty(O(t),"nodes",{value:e.Bindable.make([])}),Object.defineProperty(O(t),"intervals",{value:[]}),Object.defineProperty(O(t),"timeouts",{value:[]}),Object.defineProperty(O(t),"frames",{value:[]}),Object.defineProperty(O(t),"ruleSet",{value:new s.RuleSet}),Object.defineProperty(O(t),"preRuleSet",{value:new s.RuleSet}),Object.defineProperty(O(t),"subBindings",{value:{}}),Object.defineProperty(O(t),"templates",{value:{}}),Object.defineProperty(O(t),"eventCleanup",{value:[]}),Object.defineProperty(O(t),"interpolateRegex",{value:/(\[\[((?:\$+)?[\w\.\|-]+)\]\])/g}),Object.defineProperty(O(t),"rendered",{value:new Promise(function(e,n){return Object.defineProperty(O(t),"renderComplete",{value:e})})}),t.template="",t.firstNode=null,t.lastNode=null,t.viewList=null,t.mainView=null,t.preserve=!1,t.removed=!1,_(t,e.Bindable.make(O(t)))}return m(d,[{key:"_id",get:function(){return this[k]}}],[{key:"from",value:function(e){var t=new this(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.template=e,t}}]),m(d,[{key:"onFrame",value:function(e){var t=this,n=!1,r=function(){n=!0};return requestAnimationFrame(function(){return function r(i){t.removed||n||(t.paused||e(Date.now()),requestAnimationFrame(r))}(Date.now())}),this.frames.push(r),r}},{key:"onNextFrame",value:function(e){return requestAnimationFrame(function(){return e(Date.now())})}},{key:"onIdle",value:function(e){return requestIdleCallback(function(){return e(Date.now())})}},{key:"onTimeout",value:function(e,t){var n=this,r=function(){n.timeouts[o].fired=!0,n.timeouts[o].callback=null,t()},i=setTimeout(r,e),o=this.timeouts.length;return this.timeouts.push({timeout:i,callback:r,time:e,fired:!1,created:(new Date).getTime(),paused:!1}),i}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.timeouts)e===this.timeouts[t].timeout&&(clearTimeout(this.timeouts[t].timeout),delete this.timeouts[t])})},{key:"onInterval",value:function(e,t){var n=setInterval(t,e);return this.intervals.push({timeout:n,callback:t,time:e,paused:!1}),n}},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.intervals)e===this.intervals[t].timeout&&(clearInterval(this.intervals[t].timeout),delete this.intervals[t])})},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(this.paused=!this.paused),this.paused=e,this.paused){for(var t in this.timeouts)this.timeouts[t].fired?delete this.timeouts[t]:clearTimeout(this.timeouts[t].timeout);for(var n in this.intervals)clearInterval(this.intervals[n].timeout)}else{for(var r in this.timeouts)this.timeouts[r].timeout.paused&&(this.timeouts[r].fired?delete this.timeouts[r]:this.timeouts[r].timeout=setTimeout(this.timeouts[r].callback,this.timeouts[r].time));for(var i in this.intervals)this.intervals[i].timeout.paused&&(this.intervals[i].timeout.paused=!1,this.intervals[i].timeout=setInterval(this.intervals[i].callback,this.intervals[i].time))}var o,a=h(this.viewLists);try{for(a.s();!(o=a.n()).done;){var u=v(o.value,2);u[0];u[1].pause(!!e)}}catch(e){a.e(e)}finally{a.f()}for(var s in this.tags)if(Array.isArray(this.tags[s]))for(var c in this.tags[s])this.tags[s][c].pause(!!e);else this.tags[s].pause(!!e)}},{key:"render",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n instanceof d&&(n=n.firstNode.parentNode),r instanceof d&&(r=r.firstNode),this.firstNode)return this.reRender(n,r);this.dispatchEvent(new CustomEvent("render"));var i=this.template instanceof DocumentFragment?this.template.cloneNode(!0):d.templates.has(this.template),o=i?this.template instanceof DocumentFragment?i:d.templates.get(this.template).cloneNode(!0):document.createRange().createContextualFragment(this.template);if(i||this.template instanceof DocumentFragment||d.templates.set(this.template,o.cloneNode(!0)),this.mainView||this.preRuleSet.apply(o,this),this.mapTags(o),this.mainView||this.ruleSet.apply(o,this),!0===window.devMode?(this.firstNode=document.createComment("Template ".concat(this._id," Start")),this.lastNode=document.createComment("Template ".concat(this._id," End"))):(this.firstNode=document.createTextNode(""),this.lastNode=document.createTextNode("")),(e=this.nodes).push.apply(e,[this.firstNode].concat(p(Array.from(o.childNodes)),[this.lastNode])),this.postRender(n),this.dispatchEvent(new CustomEvent("rendered")),this.dispatchAttach()){if(n){var a=n.getRootNode(),u=!1;a.isConnected&&(u=!0,"external"),r?(n.insertBefore(this.firstNode,r),n.insertBefore(this.lastNode,r)):(n.appendChild(this.firstNode),n.appendChild(this.lastNode)),n.insertBefore(o,this.lastNode),0,u?(this.attached(a,n),this.dispatchAttached(a,n)):n.addEventListener("cvDomAttached",function(){t.attached(a,n),t.dispatchAttached(a,n)},{once:!0})}return this.renderComplete(this.nodes),this.nodes}}},{key:"dispatchAttach",value:function(){return this.dispatchEvent(new CustomEvent("attach",{cancelable:!0,target:this}))}},{key:"dispatchAttached",value:function(e,t){this.dispatchEvent(new CustomEvent("attached",{target:this}));var n=this.attach.items();for(var r in n)n[r](e,t);this.nodes.filter(function(e){return e.nodeType!==Node.COMMENT_NODE}).map(function(e){e.matches&&(o.Dom.mapTags(e,!1,function(e,t){e.matches&&e.dispatchEvent(new Event("cvDomAttached",{target:e}))}),e.dispatchEvent(new Event("cvDomAttached",{target:e})))})}},{key:"reRender",value:function(e,t){if(this.dispatchEvent(new CustomEvent("reRender"),{cancelable:!0,target:this})){var n=new DocumentFragment;if(this.firstNode.isConnected){var r=this.detach.items();for(var i in r)r[i]()}if(n.append.apply(n,p(this.nodes)),e){t?(e.insertBefore(this.firstNode,t),e.insertBefore(this.lastNode,t)):(e.appendChild(this.firstNode),e.appendChild(this.lastNode)),e.insertBefore(n,this.lastNode),this.dispatchEvent(new CustomEvent("reRendered"),{cancelable:!0,target:this});var o=e.getRootNode();o.isConnected&&(this.attached(o,e),this.dispatchAttached(o,e))}return this.nodes}}},{key:"mapTags",value:function(e){var t=this;o.Dom.mapTags(e,!1,function(e,n){e[j]||(e=e.matches?(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=t.mapInterpolatableTag(e)).matches("[cv-template]")&&t.mapTemplateTag(e)||e).matches("[cv-slot]")&&t.mapSlotTag(e)||e).matches("[cv-prerender]")&&t.mapPrendererTag(e)||e).matches("[cv-link]")&&t.mapLinkTag(e)||e).matches("[cv-attr]")&&t.mapAttrTag(e)||e).matches("[cv-expand]")&&t.mapExpandableTag(e)||e).matches("[cv-ref]")&&t.mapRefTag(e)||e).matches("[cv-on]")&&t.mapOnTag(e)||e).matches("[cv-each]")&&t.mapEachTag(e)||e).matches("[cv-bind]")&&t.mapBindTag(e)||e).matches("[cv-with]")&&t.mapWithTag(e)||e).matches("[cv-if]")&&t.mapIfTag(e)||e).matches("[cv-view]")&&t.mapViewTag(e)||e:t.mapInterpolatableTag(e))!==n.currentNode&&(n.currentNode=e)})}},{key:"mapExpandableTag",value:function(t){var n=t[S];n&&(n(),t[S]=!1);var r=v(e.Bindable.resolve(this.args,t.getAttribute("cv-expand"),!0),2),i=r[0],o=r[1];return t.removeAttribute("cv-expand"),i[o]||(i[o]={}),this.onRemove(t[S]=i[o].bindTo(function(e,n,r,i,o){i||void 0===e?t.removeAttribute(n,e):null!==e?t.setAttribute(n,e):t.setAttribute(n,"")})),t}},{key:"compileExpandableTag",value:function(t){return function(n){var r=t.cloneNode(!0),i=r.getAttribute("cv-expand"),o=e.Bindable.make(n.args[i]||{});r.removeAttribute("cv-expand");var a=function(t){if("name"===t||"type"===t)return"continue";var i=o.bindTo(t,function(e,t){return function(n){e.setAttribute(t,n)}}(r,t));n.onRemove(function(){i(),o.isBound()&&e.Bindable.clearBindings(o)})};for(var u in o)a(u);return r}}},{key:"mapAttrTag",value:function(e){var t=this.compileAttrTag(e)(this);return e.replaceWith(t),t}},{key:"compileAttrTag",value:function(t){var n=t.getAttribute("cv-attr").split(",").map(function(e){return e.split(":")});return t.removeAttribute("cv-attr"),function(r){var i=t.cloneNode(!0),o=function(t){var o=n[t][1]||n[t][0],a=v(e.Bindable.resolve(r.args,o,!0),2),u=a[0],s=a[1],c=n[t][0];r.onRemove(u.bindTo(s,function(e,t,n,r){r||void 0===e?i.removeAttribute(c,e):null!==e?i.setAttribute(c,e):i.setAttribute(c,"")}))};for(var a in n)o(a);return i}}},{key:"mapInterpolatableTag",value:function(t){var n=this,r=this.interpolateRegex;if(t.nodeType===Node.TEXT_NODE){var i=t.nodeValue;if(!this.interpolatable(i))return t;for(var o,u=0,s=function(){var r=o[2],s=!1,c=!1,l=r.split("|"),f=!1;if(l.length>1&&(f=n.stringTransformer(l.slice(1)),r=l[0]),"$$"===r.substr(0,2)&&(s=!0,c=!0,r=r.substr(2)),"$"===r.substr(0,1)&&(s=!0,r=r.substr(1)),"000"===r.substr(0,3))return expand=!0,r=r.substr(3),"continue";var p=i.substring(u,o.index);u=o.index+o[1].length;var h=document.createTextNode(p);h[j]=!0,t.parentNode.insertBefore(h,t);var b=void 0;(b=s?document.createElement("div"):document.createTextNode(""))[j]=!0;var y=n.args,m=r;if(r.match(/\./)){var g=v(e.Bindable.resolve(n.args,r,!0),2);y=g[0],m=g[1]}t.parentNode.insertBefore(b,t);var w=y.bindTo(m,function(e,r,i){if(i[r]!==e&&(i[r]instanceof d||i[r]instanceof Node||i[r]instanceof a.Tag)&&(i[r].preserve||i[r].remove()),b.nodeValue="",c&&!(e instanceof d)){var o=e;(e=new d(n.args,n)).template=o}if(f&&(e=f(e)),e instanceof d){var u=function(t){e.dispatchAttach()&&(e.attached(t),e.dispatchAttached())};n.attach.add(u),e.render(t.parentNode,b);var l=function(){e.preserve||e.remove()};n.onRemove(l),e.onRemove(function(){n.attach.remove(u),n._onRemove.remove(l)})}else e instanceof Node?(t.parentNode.insertBefore(e,b),n.onRemove(function(){return e.remove()})):e instanceof a.Tag?(t.parentNode.insertBefore(e.node,b),n.onRemove(function(){return e.remove()})):(e instanceof Object&&e.__toString instanceof Function&&(e=e.__toString()),s?b.innerHTML=e:b.nodeValue=e);b[j]=!0});n.onRemove(w)};o=r.exec(i);)s();var c=i.substring(u),l=document.createTextNode(c);l[j]=!0,t.parentNode.insertBefore(l,t),t.nodeValue=""}if(t.nodeType===Node.ELEMENT_NODE)for(var f=function(i){if(!n.interpolatable(t.attributes[i].value))return"continue";for(var o=0,a=void 0,u=t.attributes[i].value,s=t.attributes[i],c={},l=[];a=r.exec(u);)l.push(u.substring(o,a.index)),c[a[2]]||(c[a[2]]=[]),c[a[2]].push(l.length),l.push(a[1]),o=a.index+a[1].length;l.push(u.substring(o));var f=function(r){var i=n.args,o=r,a=r.split("|"),u=!1,f=r;if(a.length>1&&(u=n.stringTransformer(a.slice(1)),o=a[0]),o.match(/\./)){var p=v(e.Bindable.resolve(n.args,o,!0),2);i=p[0],o=p[1]}c[f];n.onRemove(i.bindTo(o,function(e,n,r,i){for(var a in u&&(e=u(e)),c)for(var p in c[f])l[c[f][p]]=r[a],n===o&&(l[c[f][p]]=e);t.setAttribute(s.name,l.join(""))})),n.onRemove(function(){i.isBound()||e.Bindable.clearBindings(i)})};for(var p in c)f(p)},p=0;p<t.attributes.length;p++)f(p);return t}},{key:"mapRefTag",value:function(e){var t=v(e.getAttribute("cv-ref").split(":"),3),n=t[0],r=t[1],i=void 0===r?null:r,o=t[2],u=void 0===o?null:o,s=a.Tag;i&&(s=this.stringToClass(i)),e.removeAttribute("cv-ref"),Object.defineProperty(e,"___tag___",{enumerable:!1,writable:!0}),this.onRemove(function(){e.___tag___=null,e.remove()});var c=this;this.viewList&&(c=this.viewList.parent);var l=new s(e,this,n,void 0,this);for(e.___tag___=l,this.tags[n]=l;c;){c.parent;var f=this.args[u];void 0!==f?(c.tags[n]||(c.tags[n]=[]),c.tags[n][f]=l):c.tags[n]=l,c=c.parent}return e}},{key:"mapBindTag",value:function(t){var n=this,r=t.getAttribute("cv-bind"),i=this.args,u=r,s=null;if(r.match(/\./)){var c=v(e.Bindable.resolve(this.args,r,!0),3);i=c[0],u=c[1],s=c[2]}i!==this.args&&(this.subBindings[r]=this.subBindings[r]||[],this.onRemove(this.args.bindTo(s,function(){for(;n.subBindings.length;)n.subBindings.shift()()})));var l=!1;"$"===u.substr(0,1)&&(u=u.substr(1),l=!0);var f=i.bindTo(u,function(e,r,i,u,s){(s instanceof d||s instanceof Node||s instanceof a.Tag)&&s!==e&&s.remove();var c=new CustomEvent("cvAutoChanged",{bubbles:!0});if(["INPUT","SELECT","TEXTAREA"].includes(t.tagName)){var f=t.getAttribute("type");if(f&&"checkbox"===f.toLowerCase())t.checked=!!e,t.dispatchEvent(c);else if(f&&"radio"===f.toLowerCase())t.checked=e==t.value,t.dispatchEvent(c);else if("file"!==f){if("SELECT"===t.tagName){var p=function(){for(var n=0;n<t.options.length;n++){t.options[n].value==e&&(t.selectedIndex=n)}};p(),n.attach.add(p)}else t.value=null==e?"":e;t.dispatchEvent(c)}}else if(e instanceof d){var v,b=h(t.childNodes);try{for(b.s();!(v=b.n()).done;){v.value.remove()}}catch(e){b.e(e)}finally{b.f()}var y=function(t){e.dispatchAttach()&&(e.attached(t),e.dispatchAttached())};n.attach.add(y),e.render(t),e.onRemove(function(){return n.attach.remove(y)})}else if(e instanceof Node)t.insert(e);else if(e instanceof a.Tag)t.append(e.node);else if(l){if(t.innerHTML!==e){if(e=String(e),t.innerHTML===e.substring(0,t.innerHTML.length))t.innerHTML+=e.substring(t.innerHTML.length);else{var m,g=h(t.childNodes);try{for(g.s();!(m=g.n()).done;){m.value.remove()}}catch(e){g.e(e)}finally{g.f()}t.innerHTML=e}o.Dom.mapTags(t,!1,function(e){return e[j]=!0})}}else if(t.textContent!==e){var w,_=h(t.childNodes);try{for(_.s();!(w=_.n()).done;){w.value.remove()}}catch(e){_.e(e)}finally{_.f()}t.textContent=e}});i!==this.args&&this.subBindings[r].push(f),this.onRemove(f);var p=t.getAttribute("type"),b=t.getAttribute("multiple"),y=function(n){if(n.target===t)if(p&&"checkbox"===p.toLowerCase())t.checked?i[u]=n.target.getAttribute("value"):i[u]=!1;else if(n.target.matches("[contenteditable=true]"))i[u]=n.target.innerHTML;else if("file"===p&&b){var r=Array.from(n.target.files),o=i[u]||e.Bindable.onDeck(i,u);if(o&&r.length){var a=function(e){if(r[e]!==o[e])return r[e].toJSON=function(){return{name:file[e].name,size:file[e].size,type:file[e].type,date:file[e].lastModified}},o[e]=r[e],"break"};for(var s in r){if("break"===a(s))break}}else i[u]=r}else if("file"!==p||b)i[u]=n.target.value;else{var c=n.target.files.item(0);c.toJSON=function(){return{name:c.name,size:c.size,type:c.type,date:c.lastModified}},i[u]=c}};return"file"===p||"radio"===p?t.addEventListener("change",y):(t.addEventListener("input",y),t.addEventListener("change",y),t.addEventListener("value-changed",y)),this.onRemove(function(){"file"===p||"radio"===p?t.removeEventListener("change",y):(t.removeEventListener("input",y),t.removeEventListener("change",y),t.removeEventListener("value-changed",y))}),t.removeAttribute("cv-bind"),t}},{key:"mapOnTag",value:function(e){var t=this;return String(e.getAttribute("cv-on")).split(";").map(function(e){return e.split(":")}).map(function(n){var r,i=(n=n.map(function(e){return e.trim()})).length,o=String(n.shift()).trim(),a=String(n.shift()||o).trim(),u=String(n.shift()||"").trim(),s=[],c=/(\w+)(?:\(([$\w\s-'",]+)\))?/.exec(a);c?(a=c[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),c[2]&&(s=c[2].split(",").map(function(e){return e.trim()})),c.length):s.push("$event"),o&&1!==i||(o=a);for(var l=t;l;){if("function"==typeof l[a])if("break"===function(){var e=l,t=a;return r=function(){e[t].apply(e,arguments)},"break"}())break;if(!l.parent)break;l=l.parent}var f=function(n){var i=s.map(function(r){var i;return parseInt(r)==r?r:"event"===r||"$event"===r?n:"$view"===r?l:"$tag"===r?e:"$parent"===r?t.parent:"$subview"===r?t:r in t.args?t.args[r]:(i=/^['"]([\w-]+?)["']$/.exec(r))?i[1]:void 0});if("function"!=typeof r)throw new Error("".concat(a," is not defined on View object.")+"\nTag:\n"+"".concat(e.outerHTML));r.apply(void 0,p(i))},v={};switch(u.includes("p")?v.passive=!0:u.includes("P")&&(v.passive=!1),u.includes("c")?v.capture=!0:u.includes("C")&&(v.capture=!1),u.includes("o")?v.once=!0:u.includes("O")&&(v.once=!1),o){case"_init":f();break;case"_attach":t.attach.add(f);break;case"_detach":t.detach.add(f);break;default:e.addEventListener(o,f,v),t.onRemove(function(){e.removeEventListener(o,f,v)})}return[o,a,s]}),e.removeAttribute("cv-on"),e}},{key:"mapLinkTag",value:function(e){var t=e.getAttribute("cv-link");e.setAttribute("href",t);var n=function(n){n.preventDefault(),"http"!==t.substring(0,4)&&"//"!==t.substring(0,2)?i.Router.go(e.getAttribute("href")):window.open(e.getAttribute("href",t))};return e.addEventListener("click",n),this.onRemove(function(e,t){return function(){e.removeEventListener("click",t),e=void 0,t=void 0}}(e,n)),e.removeAttribute("cv-link"),e}},{key:"compileLinkTag",value:function(e){var t=e.getAttribute("cv-link");return e.removeAttribute("cv-link"),function(n){var r=e.cloneNode(!0);return r.setAttribute("href",t),r}}},{key:"mapPrendererTag",value:function(e){var t=e.getAttribute("cv-prerender"),n=window.prerenderer||navigator.userAgent.match(/prerender/i);return n&&(window.prerenderer=window.prerenderer||!0),("never"===t&&n||"only"===t&&!n)&&e.parentNode.removeChild(e),e}},{key:"mapWithTag",value:function(t){var n=this,r=t.getAttribute("cv-with"),i=t.getAttribute("cv-carry"),o=t.getAttribute("cv-view");t.removeAttribute("cv-with"),t.removeAttribute("cv-carry"),t.removeAttribute("cv-view");var a=o?this.stringToClass(o):d,u=new DocumentFragment;p(t.childNodes).map(function(e){return u.appendChild(e)});var s=[];i&&(s=i.split(",").map(function(e){return e.trim()}));var c=this.args.bindTo(r,function(r,i,o,c){for(n.withViews.has(t)&&n.withViews.delete(t);t.firstChild;)t.removeChild(t.firstChild);var l=new a({},n);n.onRemove(function(e){return function(){e.remove()}}(l)),l.template=u;var f=function(e){var t=n.args.bindTo(s[e],function(e,t){l.args[t]=e});l.onRemove(t),n.onRemove(function(){t(),l.remove()})};for(var p in s)f(p);var v=function(t){var i=r.bindTo(t,function(e,t){l.args[t]=e});l.args.bindTo(t,function(e,t){r[t]=e});n.onRemove(function(){i(),r.isBound()||e.Bindable.clearBindings(r),l.remove()}),l.onRemove(function(){i(),r.isBound()||e.Bindable.clearBindings(r)})};for(var h in r)v(h);l.render(t),n.withViews.set(t,l)});return this.onRemove(function(){n.withViews.delete(t),c()}),t}},{key:"mapViewTag",value:function(e){var t=this,n=e.getAttribute("cv-view");e.removeAttribute("cv-view");var r=new DocumentFragment;p(e.childNodes).map(function(e){return r.appendChild(e)});var i=n.split(":"),o=i.pop()?this.stringToClass(n):d,a=i.shift(),u=new o(this.args,this);return this.views.set(e,u),a&&this.views.set(a,u),this.onRemove(function(n){return function(){n.remove(),t.views.delete(e),t.views.delete(a)}}(u)),u.template=r,u.render(e),e}},{key:"mapEachTag",value:function(e){var t=this,n=e.getAttribute("cv-each"),i=e.getAttribute("cv-view");e.removeAttribute("cv-each"),e.removeAttribute("cv-view");var o=i?this.stringToClass(i):d,a=new DocumentFragment;Array.from(e.childNodes).map(function(e){return a.appendChild(e)});var u=v(n.split(":"),3),s=u[0],c=u[1],l=u[2],f=this.args.bindTo(s,function(n,i,u,s,f){t.viewLists.has(e)&&t.viewLists.get(e).remove();var p=new r.ViewList(a,c,n,t,l,o),v=function(){return p.remove()};t.onRemove(v),p.onRemove(function(){return t._onRemove.remove(v)});var h=t.args.bindTo(function(e,t,n,r){"_id"!==t&&(r&&delete p.subArgs[t],p.subArgs[t]=e)}),d=p.args.bindTo(function(e,n,r,i,o){"_id"!==n&&"value"!==n&&"___"!==n.substring(0,3)&&(i&&delete t.args[n],n in t.args&&(t.args[n]=e))});for(p.onRemove(h),p.onRemove(d),t.onRemove(h),t.onRemove(d);e.firstChild;)e.removeChild(e.firstChild);t.viewLists.set(e,p),p.render(e)});return this.onRemove(f),e}},{key:"mapIfTag",value:function(t){var n=this,r=t,i=t.getAttribute("cv-view"),o=r.getAttribute("cv-if"),a=!1,u=!1;r.removeAttribute("cv-view"),r.removeAttribute("cv-if");var s=i?this.stringToClass(i):d;"!"===o.substr(0,1)&&(o=o.substr(1),a=!0),"?"===o.substr(0,1)&&(o=o.substr(1),u=!0);var c=new DocumentFragment;Array.from(r.childNodes).map(function(e){return c.appendChild(e)});var l=this,f=new DocumentFragment,p=new s(this.args,l);this.onRemove(p.tags.bindTo(function(e,t){console.log(t),n.tags[t]=e})),p.template=c;var h=l.args,b=o;if(o.match(/\./)){var y=v(e.Bindable.resolve(l.args,o,!0),2);h=y[0],b=y[1]}p.render(f);var m=h.bindTo(b,function(e,n){u&&(e=null!==e&&void 0!==e),Array.isArray(e)&&(e=!!e.length),a&&(e=!e),e?t.appendChild(f):p.nodes.map(function(e){return f.appendChild(e)})},{wait:0,children:Array.isArray(h[b])});l.onRemove(m);var g=function(){h.isBound()||e.Bindable.clearBindings(h)};return l.onRemove(function(){m(),g(),l._onRemove.remove(m),l._onRemove.remove(g)}),this.onRemove(function(){p.remove(),l!==n&&l.remove()}),t}},{key:"compileIfTag",value:function(t){var n=t.getAttribute("cv-if"),r=!1;t.removeAttribute("cv-if"),"!"===n.substr(0,1)&&(n=n.substr(1),r=!0);var i=new DocumentFragment;return Array.from(t.childNodes).map(function(e){return i.appendChild(e.cloneNode(!0))}),function(o){var a=t.cloneNode(),u=new DocumentFragment,s=new d({},o);s.template=i,o.syncBind(s);var c=o.args,l=n;if(n.match(/\./)){var f=v(e.Bindable.resolve(o.args,n,!0),2);c=f[0],l=f[1]}var p=!1,h=c.bindTo(l,function(e,t){if(!p){var n=o.args[l]||r?a:u;return s.render(n),void(p=!0)}Array.isArray(e)&&(e=!!e.length),r&&(e=!e),e?a.appendChild(u):s.nodes.map(function(e){return u.appendChild(e)})});o.onRemove(h);var b=function(){c.isBound()||e.Bindable.clearBindings(c)};return s.onRemove(function(){h(),b(),o._onRemove.remove(h),o._onRemove.remove(b)}),a}}},{key:"mapTemplateTag",value:function(e){var t=e.getAttribute("cv-template");return e.removeAttribute("cv-template"),this.templates[t]=function(){return"TEMPLATE"===e.tagName?e.content.cloneNode(!0):new DocumentFragment(e.innerHTML)},this.rendered.then(function(){return e.remove()}),e}},{key:"mapSlotTag",value:function(e){var t=e.getAttribute("cv-slot"),n=this.templates[t];if(!n){for(var r=this;r&&!(n=r.templates[t]);)r=this.parent;if(!n)return void console.error("Template ".concat(t," not found."))}var i=n();for(e.removeAttribute("cv-slot");e.firstChild;)e.firstChild.remove();return e.appendChild(i),e}},{key:"syncBind",value:function(e){var t=this,n=this.args.bindTo(function(t,n,r,i){"_id"!==n&&e.args[n]!==t&&(e.args[n]=t)}),r=e.args.bindTo(function(e,n,r,i,o){if("_id"!==n){var a=e,u=o;a instanceof d&&(a=a.___ref___),u instanceof d&&(u=u.___ref___),a!==u&&u instanceof d&&o.remove(),n in t.args&&(t.args[n]=e)}});this.onRemove(n),this.onRemove(r),e.onRemove(function(){t._onRemove.remove(n),t._onRemove.remove(r)})}},{key:"postRender",value:function(e){}},{key:"attached",value:function(e){}},{key:"interpolatable",value:function(e){return!!String(e).match(this.interpolateRegex)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"remove",value:function(){var e=this,t=function(){for(var t in e.tags)Array.isArray(e.tags[t])?(e.tags[t]&&e.tags[t].map(function(e){return e.remove()}),e.tags[t].splice(0)):(e.tags[t]&&e.tags[t].remove(),e.tags[t]=void 0);for(var n in e.nodes)e.nodes[n]&&e.nodes[n].dispatchEvent(new Event("cvDomDetached")),e.nodes[n]&&e.nodes[n].remove(),e.nodes[n]=void 0;e.nodes.splice(0),e.firstNode=e.lastNode=void 0};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t():requestAnimationFrame(t);var n,r,i=h(this._onRemove.items());try{for(i.s();!(n=i.n()).done;){var o=n.value;this._onRemove.remove(o),o()}}catch(e){i.e(e)}finally{i.f()}for(;r=this.cleanup.shift();)r&&r();var a,u=h(this.viewLists);try{for(u.s();!(a=u.n()).done;){var s=v(a.value,2);s[0];s[1].remove()}}catch(e){u.e(e)}finally{u.f()}for(var c in this.viewLists.clear(),this.timeouts)clearTimeout(this.timeouts[c].timeout),delete this.timeouts[c];for(var l in this.intervals)clearInterval(this.intervals[l].timeout),delete this.intervals[l];for(var l in this.frames)this.frames[l](),delete this.frames[l];this.removed=!0}},{key:"findTag",value:function(e){for(var t in this.nodes){var n;if(this.nodes[t].querySelector){if(this.nodes[t].matches(e))return new a.Tag(this.nodes[t],this,void 0,void 0,this);if(n=this.nodes[t].querySelector(e))return new a.Tag(n,this,void 0,void 0,this)}}}},{key:"findTags",value:function(e){var t=this;return this.nodes.filter(function(e){return e.querySelectorAll}).map(function(t){return p(t.querySelectorAll(e))}).flat().map(function(e){return new a.Tag(e,t,void 0,void 0,t)})}},{key:"onRemove",value:function(e){this._onRemove.add(e)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(e){}},{key:"afterUpdate",value:function(e){}},{key:"stringTransformer",value:function(e){var t=this;return function(n){for(var r in e){for(var i=t,o=e[r];i&&!i[o];)i=i.parent;if(!i)return;n=i[e[r]](n)}return n}}},{key:"stringToClass",value:function(e){if(d.refClasses.has(e))return d.refClasses.get(e);var t=e.split("/"),r=t[t.length-1],i=n(e);return d.refClasses.set(e,i[r]),i[r]}},{key:"preventParsing",value:function(e){e[j]=!0}},{key:"toString",value:function(){return this.nodes.map(function(e){return e.outerHTML}).join(" ")}},{key:"listen",value:function(e,t,n,r){var i=this;if("string"==typeof e&&(r=n,n=t,t=e,e=this),e instanceof d)return this.listen(e.nodes,t,n,r);if(Array.isArray(e)){var o=e.map(function(e){return i.listen(e,t,n,r)});return function(){return o.map(function(e){return e()})}}if(e instanceof a.Tag)return this.listen(e.element,t,n,r);e.addEventListener(t,n,r);var u=function(){e.removeEventListener(t,n,r)},s=function(){u(),u=function(){}};return this.onRemove(function(){return s()}),s}}],[{key:"isView",value:function(){return d}}]),d}();t.View=R,Object.defineProperty(R,"templates",{value:new Map}),Object.defineProperty(R,"refClasses",{value:new Map})}()}),require.register("curvature/base/ViewList.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewList=void 0;var e=n("./Bindable"),r=n("./View"),i=n("./Bag");function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function t(n,o,a,s){var c=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.removed=!1,this.args=e.Bindable.makeBindable({}),this.args.value=e.Bindable.makeBindable(a||{}),this.subArgs=e.Bindable.makeBindable({}),this.views=[],this.cleanup=[],this.viewClass=f||r.View,this._onRemove=new i.Bag,this.template=n,this.subProperty=o,this.keyProperty=l,this.tag=null,this.paused=!1,this.parent=s,this.rendered=new Promise(function(e,t){Object.defineProperty(c,"renderComplete",{configurable:!1,writable:!0,value:e})}),this.willReRender=!1,this.args.___before(function(e,t,n,r,i){"bindTo"!=t&&(c.paused=!0)}),this.args.___after(function(e,t,n,r,i){"bindTo"!=t&&(c.paused=n.length>1,c.reRender())});var p=this.args.value.bindTo(function(e,t,n,r){if(!c.paused){var i=t;if("symbol"!==u(t))if(isNaN(t)&&(i="_"+t),r)for(var o in c.views[i]&&c.views[i].remove(),delete c.views[i],c.views)c.views[o].args[c.keyProperty]="string"!=typeof o?o:o.substr(1);else c.views[i]||c.willReRender?c.views[i]&&c.views[i].args&&(c.views[i].args[c.keyProperty]=t,c.views[i].args[c.subProperty]=e):(cancelAnimationFrame(c.willReRender),c.willReRender=requestAnimationFrame(function(){c.reRender()}))}});this._onRemove.add(p)}var n,a,c;return n=t,(a=[{key:"render",value:function(e){var t,n=this,r=[],i=o(this.views);try{var a=function(){var n=t.value;n.render(e),r.push(n.rendered.then(function(){return n}))};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}this.tag=e,Promise.all(r).then(function(e){return n.renderComplete(e)})}},{key:"reRender",value:function(){var e=this;if(!this.paused&&this.tag){var t=[];for(var n in this.views)t[n]=this.views[n];var r=[];this.upDebind&&this.upDebind.map(function(e){return e&&e()}),this.downDebind&&this.downDebind.map(function(e){return e&&e()}),this.upDebind=[],this.downDebind=[];var i=1/0,o=1/0,a=function(n){var a=!1,u=n;isNaN(u)?u="_"+n:String(u).length&&(u=Number(u));for(var s=t.length-1;s>=0;s--)if(t[s]&&void 0!==e.args.value[n]&&e.args.value[n]===t[s].args[e.subProperty]){a=!0,r[u]=t[s],isNaN(u)||(i=Math.min(i,u),u>0&&(o=Math.min(o,u))),r[u].args[e.keyProperty]=n,delete t[s];break}if(!a){var c={},l=r[u]=new e.viewClass(c,e.parent);isNaN(u)||(i=Math.min(i,u),u>0&&(o=Math.min(o,u))),r[u].template=(e.template,Object,e.template),r[u].viewList=e,r[u].args[e.keyProperty]=n,r[u].args[e.subProperty]=e.args.value[n],e.upDebind[u]=c.bindTo(e.subProperty,function(t,n,r,i){var o=c[e.keyProperty];i?delete e.args.value[o]:e.args.value[o]=t}),e.downDebind[u]=e.subArgs.bindTo(function(e,t,n,r){r?delete c[t]:c[t]=e}),l.onRemove(function(){e.upDebind[u]&&e.upDebind[u](),e.downDebind[u]&&e.downDebind[u](),delete e.downDebind[u],delete e.upDebind[u]}),e._onRemove.add(function(){e.upDebind.filter(function(e){return e}).map(function(e){return e()}),e.upDebind.splice(0)}),e._onRemove.add(function(){e.downDebind.filter(function(e){return e}).map(function(e){return e()}),e.downDebind.splice(0)}),c[e.subProperty]=e.args.value[n]}};for(var u in this.args.value)a(u);for(var s in t){var c=!1;for(var l in r)if(t[s]===r[l]){c=!0;break}c||t[s].remove()}if(Array.isArray(this.args.value)){var f=0===i&&void 0!==r[1]&&r.length>1||o===1/0?i:o;this.rendered=function t(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=r.length-n-1;i>f&&void 0===r[i];)i--;return i<f?Promise.resolve():r[i]===e.views[i]?r[i].firstNode?t(Number(n)+1):(r[i].render(e.tag,r[i+1]),r[i].rendered.then(function(){return t(Number(n)+1)})):(r[i].render(e.tag,r[i+1]),e.views.splice(i,0,r[i]),r[i].rendered.then(function(){return t(Number(n)+1)}))}()}else{var p=[],v=Object.assign({},r),h=function(t){if(delete v[t],r[t].firstNode&&r[t]===e.views[t])return"continue";r[t].render(e.tag),p.push(r[t].rendered.then(function(){return r[t]}))};for(var d in r)h(d);for(var b in v)delete this.args.views[b],v.remove();this.rendered=Promise.all(p)}for(var y in this.views=r,r)isNaN(y)?r[y].args[this.keyProperty]=y.substr(1):r[y].args[this.keyProperty]=y;this.willReRender=!1}}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var t in this.views)this.views[t].pause(e)}},{key:"onRemove",value:function(e){this._onRemove.add(e)}},{key:"remove",value:function(){for(var t in this.views)this.views[t].remove();var n=this._onRemove.items();for(var r in n)this._onRemove.remove(n[r]),n[r]();for(;this.cleanup.length;)this.cleanup.pop()();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);this.subArgs&&e.Bindable.clearBindings(this.subArgs),e.Bindable.clearBindings(this.args),this.args.value&&!this.args.value.isBound()&&e.Bindable.clearBindings(this.args.value),this.removed=!0}}])&&s(n.prototype,a),c&&s(n,c),t}();t.ViewList=c}()}),require.register("curvature/mixin/EventTargetMixin.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventTargetMixin=void 0;var e,r=n("../base/Mixin");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=Symbol("Target"),a=(i(e={},r.Mixin.Constructor,function(){try{this[o]=new EventTarget}catch(e){this[o]=document.createDocumentFragment()}}),i(e,"dispatchEvent",function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];(e=this[o]).dispatchEvent.apply(e,n);var a="on".concat(i.type[0].toUpperCase()+i.type.slice(1));return"function"==typeof this[a]&&this[a](i),i.returnValue}),i(e,"addEventListener",function(){var e;(e=this[o]).addEventListener.apply(e,arguments)}),i(e,"removeEventListener",function(){var e;(e=this[o]).removeEventListener.apply(e,arguments)}),e);t.EventTargetMixin=a}()}),require.register("curvature/mixin/PromiseMixin.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseMixin=void 0;var e,r=n("../base/Mixin");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=Symbol("Promise"),a=Symbol("Accept"),u=Symbol("Reject"),s=(i(e={},r.Mixin.Constructor,function(){var e=this;this[o]=new Promise(function(t,n){e[a]=t,e[u]=n})}),i(e,"then",function(){var e;return(e=this[o]).then.apply(e,arguments)}),i(e,"catch",function(){var e;return(e=this[o]).catch.apply(e,arguments)}),i(e,"finally",function(){var e;return(e=this[o]).finally.apply(e,arguments)}),e);t.PromiseMixin=s,Object.defineProperty(s,"Reject",{value:u}),Object.defineProperty(s,"Accept",{value:a})}()}),require.register("curvature/model/Database.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;var e=n("../base/Bindable"),r=n("../base/Mixin"),i=n("../mixin/EventTargetMixin");function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=Symbol("BeforeWrite"),h=Symbol("AfterWrite"),d=Symbol("BeforeInsert"),b=Symbol("AfterInsert"),y=Symbol("BeforeUpdate"),m=Symbol("AfterUpdate"),g=Symbol("BeforeRead"),w=Symbol("AfterRead"),_=Symbol("PrimaryKey"),O=Symbol("Connection"),P=Symbol("Instances"),j=(Symbol("HighWater"),Symbol("Metadata")),S=Symbol("Timers"),k=Symbol("Target"),R=(Symbol("Store"),Symbol("Each")),A=Symbol("Name"),T=Symbol("Bank"),E=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,r.Mixin["with"](i.EventTargetMixin));var n,o,u,p=l(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),t=p.call(this),Object.defineProperty(f(t),O,{value:e}),Object.defineProperty(f(t),A,{value:e.name}),Object.defineProperty(f(t),S,{value:{}}),Object.defineProperty(f(t),j,{value:{}}),Object.defineProperty(f(t),T,{value:{}}),t}return n=v,u=[{key:"open",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[P][e]?Promise.resolve(this[P][e]):new Promise(function(r,i){var o=indexedDB.open(e,n);o.onerror=function(e){v.dispatchEvent(new CustomEvent("error",{detail:{database:t[A],error:e,store:void 0,type:"read",subType:"select"}})),i(e)},o.onsuccess=function(n){var i=new t(n.target.result);t[P][e]=i,r(i)},o.onupgradeneeded=function(r){var i=r.target.result;i.addEventListener("error",function(e){return console.error(e)});for(var o=new t(i),a=r.oldVersion+1;a<=n;a+=1)o["_version_"+a](i);t[P][e]=o}})}},{key:"getPrimaryKey",value:function(e){return e[_]?e[_].description:null}},{key:"destroyDatabase",value:function(){var e=this;return new Promise(function(t,n){var r=indexedDB.delete(dbName);r.onerror=function(e){v.dispatchEvent(new CustomEvent("error",{detail:{database:dbName,error:e,type:"destroy"}})),n(e)},r.onsuccess=function(n){delete e[P][dbName],t(dbName)}})}}],(o=[{key:"select",value:function(e){var t=this,n=e.store,r=e.index,i=e.range,o=void 0===i?null:i,a=e.direction,u=void 0===a?"next":a,s=e.limit,c=void 0===s?0:s,l=e.offset,f=void 0===l?0:l,p=e.type,v=void 0!==p&&p,h=e.origin,d=void 0===h?void 0:h,b=this[O].transaction(n,"readonly").objectStore(n),y=r?b.index(r):b;return{each:this[R](v,y,u,o,c,f,d),one:this[R](v,y,u,o,1,f,d),then:function(e){return t[R](v,y,u,o,c,f,d)(function(e){return e}).then(e)}}}},{key:"insert",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,a){r[T][t]=r[T][t]||{};var u=r[O].transaction([t],"readwrite"),s=u.objectStore(t),c=r[T][t];n=e.Bindable.make(n);var l={database:r[A],record:n,store:t,type:"write",subType:"insert",origin:i},f=n[v.BeforeWrite]?n[v.BeforeWrite](l):null,p=n[v.BeforeInsert]?n[v.BeforeInsert](l):null,h=s.add(Object.assign({},e.Bindable.shuck(n)));!1!==f&&!1!==p&&(h.onerror=function(e){r.dispatchEvent(new CustomEvent("writeError",{detail:l})),a(e)},h.onsuccess=function(e){var a=e.target.result;c[a]=n;if(l.key=v.getPrimaryKey(n),r.dispatchEvent(new CustomEvent("write",{cancelable:!0,detail:l}))){if(n[_]=Symbol.for(a),r[j][t]||(r[j][t]=r.getStoreMeta(t,"store",{})),r[j][t]){var s=r.checkHighWaterMark(t,n),f=r.checkLowWaterMark(t,n),p=r[j][t],h=n[p.highWater];i.setHighWater&&s<h&&r.setHighWaterMark(t,n,i,"insert"),i.setLowWater&&f>h&&r.setLowWaterMark(t,n,i,"insert")}u.commit&&u.commit(),n[v.AfterInsert]&&n[v.AfterInsert](l),n[v.AfterWrite]&&n[v.AfterWrite](l)}else u.abort();o(n)})})}},{key:"update",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n[_])throw Error("Value provided is not a DB record!");return new Promise(function(o,a){var u=r[O].transaction([t],"readwrite"),s=u.objectStore(t),c={database:r[A],key:v.getPrimaryKey(n),record:n,store:t,type:"write",subType:"update",origin:i};n[v.AfterInsert]&&n[v.AfterInsert](c),n[v.AfterWrite]&&n[v.AfterWrite](c);var l=n[v.BeforeWrite]?n[v.BeforeWrite](c):null,f=n[v.BeforeUpdate]?n[v.BeforeUpdate](c):null;if(!1!==l&&!1!==f){var p=s.put(Object.assign({},e.Bindable.shuck(n)));p.onerror=function(e){r.dispatchEvent(new CustomEvent("writeError",{detail:c})),a(e)},p.onsuccess=function(e){if(r.dispatchEvent(new CustomEvent("write",{cancelable:!0,detail:c}))){if(r[j][t]||(r[j][t]=r.getStoreMeta(t,"store",{})),r[j][t]){var a=r.checkHighWaterMark(t,n),s=r.checkLowWaterMark(t,n),l=r[j][t],f=n[l.highWater];i.setHighWater&&a<f&&r.setHighWaterMark(t,n,i,"insert"),i.setLowWater&&s>f&&r.setLowWaterMark(t,n,i,"insert")}u.commit&&u.commit()}else u.abort();o(e)}}})}},{key:"delete",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t[_])throw Error("Value provided is not a DB record!");return new Promise(function(i,o){var a=n[O].transaction([e],"readwrite"),u=a.objectStore(e),s={database:n[A],record:t,key:v.getPrimaryKey(t),store:e,type:"write",subType:"delete",origin:r};if(!1!==(t[v.beforeDelete]?t[v.beforeDelete](s):null)){var c=u.delete(Number(t[_].description));t[_]=void 0,t[v.AfterDelete]&&t[v.AfterDelete](s),c.onerror=function(e){s.original=e;var t=new CustomEvent("writeError",{detail:s});n.dispatchEvent(t),o(e)},c.onsuccess=function(e){s.original=e;var t=new CustomEvent("write",{detail:s});n.dispatchEvent(t),a.commit&&a.commit(),i(t)}}})}},{key:"clear",value:function(e){var t=this;return new Promise(function(n,r){var i=t[O].transaction([e],"readwrite"),o=i.objectStore(e).clear(),a={database:t[A],store:e,type:"write",subType:"clear",origin:origin};o.onerror=function(e){a.original=e;var n=new CustomEvent("writeError",{detail:a});t.dispatchEvent(n),r(e)},o.onsuccess=function(e){a.original=e;var r=new CustomEvent("write",{detail:a});t.dispatchEvent(r),i.commit&&i.commit(),n(r)}})}},{key:"listStores",value:function(){return a(this[O].objectStoreNames)}},{key:"listIndexes",value:function(e){return a(this[O].transaction([e]).objectStore(e).indexNames)}},{key:R,value:function(t,n,r,i,o,a,u){var s=this;return function(c){return new Promise(function(l,f){var p=0;n.openCursor(i,r).addEventListener("success",function(r){var i=r.target.result;if(!i)return l({record:null,result:null,index:p});s[T][w]=s[T][w]||{};var f=s[T][w],h=i.primaryKey,d=t?t.from(i.value):i.value,b=e.Bindable.makeBindable(d),y={database:s[A],key:v.getPrimaryKey(b),record:d,store:n.name,type:"read",subType:"select",origin:u},m=d[v.BeforeRead]?d[v.BeforeRead](y):null;if(a>p++||!1===m)return i.continue();f[h]?Object.assign(f[h],d):(d[_]=Symbol.for(h),f[h]=d);var g=i.source,w=g.objectStore?g.objectStore.name:n.name;f[h][v.AfterRead]&&f[h][v.AfterRead](y),y.record=d;if(s.dispatchEvent(new CustomEvent("read",{detail:y,cancelable:!0}))){var O=t?t.from(f[h]):f[h];O[_]=Symbol.for(h);var P=c?c(O,p):O;if(o&&p-a>=o)return a+=o,l({record:O,result:P,index:p})}i.continue()})})}}},{key:"setStoreMeta",value:function(e,t,n){localStorage.setItem("::::cvdb::".concat(e,"::").concat(t),JSON.stringify(n))}},{key:"getStoreMeta",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=localStorage.getItem("::::cvdb::".concat(e,"::").concat(t)),i=null!==r?JSON.parse(r):n;return null===i?n:i}},{key:"createObjectStore",value:function(e,t){var n=this[O].createObjectStore(e,t);return this.setStoreMeta(e,"store",t),n}},{key:"deleteObjectStore",value:function(e){return this[O].deleteObjectStore(e)}},{key:"checkHighWaterMark",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getStoreMeta(e,"highWater",0)}},{key:"setHighWaterMark",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=t[this[j][e].highWater],o=this.getStoreMeta(e,"highWater",0);this.setStoreMeta(e,"highWater",i),this.dispatchEvent(new CustomEvent("highWaterMoved",{detail:{database:this[A],record:t,store:e,type:"highWaterMoved",subType:r,origin:n,oldValue:o,value:i}}))}},{key:"checkLowWaterMark",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getStoreMeta(e,"lowWater",1/0)}},{key:"setLowWaterMark",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=t[this[j][e].highWater],o=this.getStoreMeta(e,"lowWater",null);this.setStoreMeta(e,"lowWater",i),this.dispatchEvent(new CustomEvent("lowWaterMoved",{detail:{database:this[A],record:t,store:e,type:"lowWaterMoved",subType:r,origin:n,oldValue:o,value:i}}))}}])&&s(n.prototype,o),u&&s(n,u),v}();t.Database=E,Object.defineProperty(E,P,{value:[]}),Object.defineProperty(E,k,{value:document.createDocumentFragment()}),Object.defineProperty(E,"BeforeWrite",{value:v}),Object.defineProperty(E,"AfterWrite",{value:h}),Object.defineProperty(E,"BeforeInsert",{value:d}),Object.defineProperty(E,"AfterInsert",{value:b}),Object.defineProperty(E,"BeforeUpdate",{value:y}),Object.defineProperty(E,"AfterUpdate",{value:m}),Object.defineProperty(E,"BeforeRead",{value:g}),Object.defineProperty(E,"AfterRead",{value:w});var C=function(e){Object.defineProperty(E,e,{value:function(){var t;return(t=E[k])[e].apply(t,arguments)}})};for(var x in["addEventListener","removeEventListener","dispatchEvent"])C(x)}()}),require.register("curvature/model/Model.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var e=n("../base/Cache"),r=n("../base/Bindable");function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var c=Symbol("Saved"),l=Symbol("Changed"),f=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,l,{value:r.Bindable.make({})}),Object.defineProperty(this,c,{writable:!0,value:!1})}return s(t,null,[{key:"keyProps",value:function(){return["id","class"]}}]),s(t,[{key:"consume",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.__proto__.constructor.keyProps(),o=function(t,r){if(r&&"object"===a(r)&&r.__proto__.constructor.keyProps){var i=r.__proto__.constructor.keyProps().map(function(e){return r[e]}).join("::"),o=e.Cache.load(i,!1,"models-by-type-and-publicId");o&&(o.consume(r),r=o)}n[t]=r};for(var u in t)!r&&this[l][u]||i.includes(u)||o(u,t[u])}},{key:"changed",value:function(){this[c]=!1}},{key:"stored",value:function(){for(var e in this[l])this[l][e]=!1;this[c]=!0}},{key:"isSaved",value:function(){return this[c]}}],[{key:"from",value:function(t){var n,o=this,u=this.keyProps(),s=u.map(function(e){return t[e]}).join("::"),f="models-by-type-and-publicId",p=e.Cache.load(s,!1,f),v=p||r.Bindable.makeBindable(new this),h=i(u);try{for(h.s();!(n=h.n()).done;){var d,b,y=n.value;v[y]=null!==(d=null!==(b=v[y])&&void 0!==b?b:t[y])&&void 0!==d?d:null}}catch(e){h.e(e)}finally{h.f()}if(v.consume(t),e.Cache.store(s,v,0,f),!p){var m=!1;v.bindTo(function(e,t,n){"symbol"!==a(t)&&e!==n[t]&&(v[l][t]=m,v[c]=!(m||!o[c]))}),m=!0}return v}}]),t}();t.Model=f,Object.defineProperty(f,"Saved",{value:c}),Object.defineProperty(f,"Changed",{value:l})}()}),require.register("pokemon-parser/BitArray.js",function(t,n,r){n=e(n,{},"pokemon-parser"),function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.BitArray=void 0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=[]),"number"==typeof e&&(e=Array.from(Array(e))),Array.isArray(e)&&(e=new Uint8Array(e)),e instanceof t&&(e=e.buffer),this.buffer=e,this.done=!1,this.i=this.j=0}var n,r,i;return n=t,(r=[{key:"clone",value:function(){return new this.constructor(this)}},{key:"get",value:function(e){var t=Math.floor(e/8),n=e%8;return(1<<n&this.buffer[t])>>n}},{key:"set",value:function(e,t){var n=Math.floor(e/8),r=e%8,i=t?1<<r:~(1<<r);t?this.buffer[n]|=i:this.buffer[n]&=i}},{key:"next",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0,n=this.buffer[this.i];e-- >0;){var r=n>>7-this.j&1;this.j++,this.j>7&&(this.j=0,n=this.buffer[++this.i]),this.i>=this.buffer.length&&(this.done=!0),t<<=1,t|=r}return t}},{key:"length",get:function(){return 8*this.buffer.length}}])&&e(n.prototype,r),i&&e(n,i),t}();t.BitArray=n}()}),require.register("pokemon-parser/decompress/Merge.js",function(t,n,r){n=e(n,{},"pokemon-parser"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Merge=void 0;var e=n("../BitArray");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log(n),this.width=r,this.size=n.length,this.input=new e.BitArray(n),this.buffer=new Uint8Array(Math.pow(r,2))}var n,i,o;return n=t,(i=[{key:"decompress",value:function(){var e=[255,128,196,64],t=this.input.length/2;console.log(this.input);for(var n=0;n<t;n++){var r=this.input.get(this.pixelToRowPixel(n))<<1|this.input.get(this.pixelToRowPixel(n)+Math.pow(this.width,2));this.buffer[n]=e[r],console.log(n,r)}}},{key:"pixelToRowPixel",value:function(e){var t=this.width,n=e%2==0,r=Math.floor(e/t);return 2*r+e%t*t+(n?0:-(t-1))}}])&&r(n.prototype,i),o&&r(n,o),t}();t.Merge=i}()}),require.register("pokemon-parser/decompress/RleDelta.js",function(t,n,r){n=e(n,{},"pokemon-parser"),function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RleDelta=void 0;var e=n("../BitArray");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"tileSize",8),i(this,"fillMode",null),i(this,"lastBit",0),i(this,"deltaCount",0),i(this,"fillCount",0),i(this,"xorCount",0),this.input=n,this.bits=new e.BitArray(n),this.xSize=this.bits.next(4)||7,this.ySize=this.bits.next(4)||7,this.sideSize=this.xSize,this.xSize*=this.tileSize,this.size=this.xSize*this.ySize,this.xSize=this.xSize<=56?this.xSize:56,this.ySize=this.ySize<=7?this.ySize:7,this.buffSize=Math.pow(this.sideSize,2)*this.tileSize,this.buffer=new Uint8Array(2*this.buffSize),this.bufferA=new Uint8Array(this.buffer.buffer,0*this.buffSize,1*this.buffSize),this.bufferB=new Uint8Array(this.buffer.buffer,1*this.buffSize,1*this.buffSize)}var n,o,a;return n=t,(o=[{key:"decompress",value:function(){this.buffer;var t=this.bits,n=this.xSize,r=(this.ySize,this.size),i=[new e.BitArray(this.bufferA),new e.BitArray(this.bufferB)],o=t.next(),a=i[o],u=i[1^o];for(this.fillCount=0,this.fillMode=null;this.fillBuffer(a,t,n,r););var s=t.next();for(1===s&&(s=1+t.next()),this.fillCount=0,this.fillMode=null;this.fillBuffer(u,t,n,r););switch(s){case 0:for(this.deltaCount=0;this.deltaFill(a,n););for(this.deltaCount=0;this.deltaFill(a,n););break;case 1:for(this.deltaCount=0;this.deltaFill(a,n););for(this.xorCount=0;this.xorFill(a,u););break;case 2:for(this.deltaCount=0,this.lastBit=0;this.deltaFill(a,n););for(this.deltaCount=0,this.lastBit=0;this.deltaFill(u,n););for(this.xorCount=0;this.xorFill(a,u););}}},{key:"tilePixelToPixel",value:function(e){}},{key:"pixelToRowPixel",value:function(e){var t=this.sideSize*this.tileSize,n=e%2==0,r=Math.floor(e/t);return 2*r+e%t*t+(n?0:-(t-1))}},{key:"xorFill",value:function(e,t){if(this.xorCount>=8*this.buffSize)return!1;var n=e.get(this.xorCount),r=t.get(this.xorCount);return t.set(this.xorCount,n^r),this.xorCount++,!0}},{key:"deltaFill",value:function(e,t){this.deltaCount%(this.sideSize*this.tileSize)==0&&(this.lastBit=0);var n=this.pixelToRowPixel(this.deltaCount);return e.get(n)&&(this.lastBit=1^this.lastBit),e.set(n,this.lastBit),this.deltaCount++,this.deltaCount<8*this.buffSize}},{key:"fillBuffer",value:function(e,t,n,r){var i=8*r;return null===this.fillMode&&(this.fillMode=t.next()),0===this.fillMode?(this.rleFill(e,t),this.fillMode=1):1===this.fillMode&&(this.dataFill(e,t),this.fillMode=0),this.fillCount<i||(this.fillMode=null,!1)}},{key:"rleFill",value:function(e,t){for(var n=0,r="";r=t.next();)r,n++;for(var i=(2<<n)-1+t.next(n+1),o=0;o<i;o++)this.fillCount++,this.fillCount++}},{key:"dataFill",value:function(e,t){for(var n=[];;){var r=t.next(),i=t.next();if(0===r&&0===i)break;n.push(r,i),r&&e.set(this.fillCount,r),this.fillCount++,i&&e.set(this.fillCount,i),this.fillCount++}}}])&&r(n.prototype,o),a&&r(n,a),t}();t.RleDelta=o}()}),require.register("Format.js",function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Format=void 0;e.Format=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"tileWidth",1),r(this,"tileHeight",1),r(this,"outputPos",0),r(this,"inputPos",0),r(this,"depth",1),this.inputBuffer=t,this.outputBuffer=n,this.width=i}}),require.register("Processor.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=void 0;var i=t("curvature/base/Mixin"),o=t("curvature/base/View"),a=t("./panel/Panelable");function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,o.View);var t=s(n);function n(e,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=t.call(this,e,r),Object.assign(i.panel.args,{widget:c(i)}),i.args.bindTo("input",function(e){e&&(i.args.inputName=e.args.input?e.args.input.name:e.args.title,i.args.offset=Number(e.args.firstByte),i.args.length=Number(e.args.buffer.length)-i.args.offset)}),i}return n}();e.Processor=f,i.Mixin.to(f,a.Panelable)}),require.register("canvas/Canvas.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;var i=t("curvature/base/Mixin"),o=t("curvature/base/View"),a=(t("../processor/Invert"),t("../menu/Menu")),u=t("../panel/Panelable"),s=(t("../panel/Panel"),t("../format/BytePerPixel")),c=t("../format/BitPerPixel"),l=t("../format/Gameboy1bpp"),f=t("../format/Gameboy2bpp"),p=t("../format/Gameboy1bppCol");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(y,o.View);var n,r,i,u=d(y);function y(e,n){var r,i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),r=u.call(this,e,n),i=b(r),o="template",a=t("./canvas.html"),o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,r.args.height=e.height||128,r.args.width=e.width||128,r.args.scale=e.scale||2,r.args.tileArea=1,r.args.offset=0,r.scrollDelta=1,r.args.decoder=e.decoder||"gameboy",r.args.showSettings=!1,r.args.input=e.input||!1,r.args.firstByte="0000",Object.assign(r.panel.args,{widget:b(r),title:e.title||e.input&&e.input.name||"Canvas"}),r}return n=y,(r=[{key:"onRendered",value:function(){var e=this,t={"--scale":this.args.scale,"--width":this.args.width,"--height":this.args.height};this.args.bindTo("offset",function(t,n){e.args.buffer&&e.tags.canvas&&e.drawDots(e.args.buffer)},{wait:0}),this.args.bindTo("scale",function(n,r){e.tags.canvas&&(t["--scale"]=n,e.tags.canvas.style(t)),e.args.buffer&&e.drawDots(e.args.buffer)},{wait:0}),this.args.bindTo("width",function(n,r){n=Number(n),e.tags.canvas&&(t["--width"]=n,e.tags.canvas.width=n,e.tags.canvas.style(t)),e.args.buffer&&e.drawDots(e.args.buffer)},{wait:0}),this.args.bindTo("height",function(n,r){n=Number(n),e.tags.canvas&&(t["--height"]=n,e.tags.canvas.height=n,e.tags.canvas.style(t)),e.args.buffer&&e.drawDots(e.args.buffer)},{wait:0}),this.args.bindTo("input",function(t){t&&(e.args.filename=t.name,e.args.buffer=new Uint8Array(t.buffer),e.onTimeout(0,function(){e.drawDots(e.args.buffer)}))}),this.args.bindTo("decoder",function(t){e.args.buffer&&e.drawDots(e.args.buffer)},{frame:!0})}},{key:"wheel",value:function(e){e.preventDefault(),e.deltaY<1&&this.args.offset>0?this.args.offset-=this.args.width*this.depth:e.deltaY>1&&(this.args.offset+=this.args.width*this.depth),0>this.args.offset&&(this.args.offset=0)}},{key:"keydown",value:function(e){"PageDown"===e.key?(this.args.offset+=this.args.width*this.args.height*(this.depth/8),this.drawDots()):"PageUp"===e.key?(this.args.offset-=this.args.width*this.args.height*(this.depth/8),this.args.offset<0&&(this.args.offset=0),this.drawDots()):"ArrowDown"===e.key?(e.ctrlKey?this.args.offset+=this.depth:e.shiftKey?this.args.offset+=this.args.width*this.depth*2:this.args.offset+=this.args.width*this.depth,this.drawDots()):"ArrowUp"===e.key?(e.ctrlKey?this.args.offset-=this.depth:e.shiftKey?this.args.offset-=this.args.width*this.depth*2:this.args.offset-=this.args.width*this.depth,this.args.offset<0&&(this.args.offset=0),this.drawDots()):"ArrowRight"===e.key?(e.ctrlKey?this.args.offset++:e.shiftKey?this.args.offset+=this.tileArea*(this.depth/8)*2:this.args.offset+=this.tileArea*(this.depth/8),this.drawDots()):"ArrowLeft"===e.key?(e.ctrlKey?this.args.offset--:e.shiftKey?this.args.offset-=this.tileArea*(this.depth/8)*2:this.args.offset-=this.tileArea*(this.depth/8),this.args.offset<0&&(this.args.offset=0),this.drawDots()):"Home"===e.key?(this.args.offset=0,this.drawDots()):"End"===e.key&&(this.args.offset=this.args.buffer.length,this.drawDots())}},{key:"drawDots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.willDraw&&cancelAnimationFrame(this.willDraw),this.willDraw=requestAnimationFrame(function(){void 0===t&&(t=e.args.buffer);var n=e.tags.canvas,r=n.getContext("2d");requestAnimationFrame(function(){return r.clearRect(0,0,n.width,n.height)});var i=null;switch(e.args.decoder){case"bytes":i=s.BytePerPixel;break;case"bits":i=c.BitPerPixel;break;case"gameboy":i=f.Gameboy2bpp;break;case"gameboy-1bit":i=l.Gameboy1bpp;break;case"gameboy-1bit-cols":i=p.Gameboy1bppCol}e.format(i,t)})}},{key:"format",value:function(e,t){var n=this.tags.canvas.getContext("2d"),r=t.slice(this.args.offset),i=n.createImageData(this.args.width,this.args.height),o=new e(r,i.data,this.args.width);for(this.tileArea=o.tileWidth*o.tileHeight,this.depth=o.depth;o.next(););requestAnimationFrame(function(){return n.putImageData(i,0,0)})}},{key:"toggleSettings",value:function(){this.args.showSettings=!this.args.showSettings}},{key:"zoomIn",value:function(){this.args.scale++}},{key:"zoomOut",value:function(){this.args.scale--}},{key:"run",value:function(e){var t=this.args.panel,n=new a.Menu({input:this,panel:t},this);t.panels.add(n.panel)}},{key:"hex",value:function(e){return Number(e).toString(16).padStart(4,"0")}}])&&v(n.prototype,r),i&&v(n,i),y}();e.Canvas=m,i.Mixin.to(m,u.Panelable)}),require.register("canvas/canvas.html",function(e,t,n){n.exports='<div data-module = "canvas [[module]]">\n\n\t<label cv-if = "buffer">\n\t\t<div>\n\t\t\t<div class = "icon inline-icon gear-icon" cv-on = "click:toggleSettings(event)"></div>\n\t\t\t<div class = "icon inline-icon save-icon"cv-on = "click:save(event)"></div>\n\t\t\t<div class = "icon inline-icon run-icon" cv-on = "click:run(event)"></div>\n\t\t\t\x3c!-- <div class = "icon inline-icon folder-icon"></div> --\x3e\n\t\t</div>\n\t</label>\n\n\t<span cv-if = "showSettings">\n\n\t\t<label cv-if = "buffer">\n\t\t\t<p>width</p>\n\t\t\t<input cv-bind = "width" type = "number" min = "0">\n\t\t</label>\n\n\t\t<label cv-if = "buffer">\n\t\t\t<p>height</p>\n\t\t\t<input cv-bind = "height" type = "number" min = "0">\n\t\t</label>\n\n\t\t<label cv-if = "buffer">\n\t\t\t<p>scale</p>\n\t\t\t<input cv-bind = "scale" type = "number" min = "1">\n\t\t</label>\n\n\t\t<label cv-if = "buffer">\n\t\t\t<p>row</p>\n\t\t\t<input cv-bind = "offset" type = "number" min = "0">\n\t\t</label>\n\t</span>\n\n\t<label cv-if = "!buffer">\n\t\t<input type = "file" cv-bind = "input">\n\t</label>\n\n\t<label cv-if = "buffer">\n\t\t<p>encoding</p>\n\t\t<select cv-bind = "decoder">\n\t\t\t<optgroup label = "streams">\n\t\t\t\t\x3c!-- <option value = "">32 bit color (R,G,B,A...)*</option> --\x3e\n\t\t\t\t\x3c!-- <option value = "">24 bit color (R,G,B...)*</option> --\x3e\n\t\t\t\t\x3c!-- <option value = "">16 bit greyscale*</option> --\x3e\n\t\t\t\t<option value = "bytes">8 bit greyscale</option>\n\t\t\t\t\x3c!-- <option value = "">4 bit greyscale*</option> --\x3e\n\t\t\t\t\x3c!-- <option value = "">2 bit greyscale*</option> --\x3e\n\t\t\t\t<option value = "bits">1 bit black & white</option>\n\t\t\t</optgroup>\n\t\t\t<optgroup label = "tiles">\n\t\t\t\t<option value = "gameboy">2 bit tiles (2bpp gameboy)</option>\n\t\t\t\t<option value = "gameboy-1bit">1 bit tiles (1bpp gameboy)</option>\n\t\t\t\t<option value = "gameboy-1bit-cols">1 bit columns (1bpp gameboy)</option>\n\t\t\t</optgroup>\n\t\t</select>\n\t</label>\n\n\t<label cv-if = "buffer">\n\t\t<p>buffer</p>\n\t\t<div class = "canvas-window">\n\t\t\t<canvas tabindex = "0" cv-ref = "canvas" cv-on = "wheel(event);keydown(event)"></canvas>\n\t\t\t<div class = "row">\n\t\t\t\t<div><code>0x[[offset|hex]]</code></div>\n\t\t\t\t<div class = "right">\n\t\t\t\t\t<div class = "icon inline-icon zoom-out-icon" cv-on = "click:zoomOut(event)"></div>\n\t\t\t\t\t<div class = "icon inline-icon zoom-in-icon" cv-on = "click:zoomIn(event)"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</label>\n</div>\n'}),require.register("file/Drop.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Drop=void 0;t("curvature/base/Bindable");var i=t("curvature/base/View"),o=(t("../panel/Panel"),t("../canvas/Canvas")),a=(t("./Icon"),t("./FileModel")),u=t("./FileDatabase");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,i.View);var n,r,c,h=p(d);function d(e,n){var r,i,o,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),r=h.call(this,e,n),i=v(r),o="template",s=t("./drop.html"),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,r.args.files=[],r.fileDb=u.FileDatabase.open("files",1);var c={store:"files",index:"name",type:a.FileModel};return r.fileDb.then(function(e){return e.select(c).each(function(e){e&&r.args.files.push(e)})}),r}return n=d,(r=[{key:"drop",value:function(e){var t=this;e.preventDefault();var n=e.dataTransfer.files[0],r=n.arrayBuffer(),i=this.fileDb;Promise.all([r,i]).then(function(e){var r=s(e,2),i=r[0],o=r[1],u={store:"files",index:"name",range:n.name,type:a.FileModel},c={name:n.name,lastModified:n.lastModified,size:n.size,type:n.type,buffer:i};o.select(u).one().then(function(e){var n=e.record;n?(n.consume(c),o.update("files",n)):(n=a.FileModel.from(c),o.insert("files",n)),t.args.files.push(n),t.openCanvasPanel(n)})})}},{key:"dragover",value:function(e){e.preventDefault()}},{key:"iconClicked",value:function(e,t){this.openCanvasPanel(t)}},{key:"openCanvasPanel",value:function(e){var t=this.args.panel,n=new o.Canvas({input:e,panel:t});t.panels.add(n.panel)}}])&&l(n.prototype,r),c&&l(n,c),d}();e.Drop=d}),require.register("file/FileDatabase.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FileDatabase=void 0;var i=t("curvature/model/Database");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,i.Database);var t,n,r,s=u(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return t=c,(n=[{key:"_version_1",value:function(e){this.createObjectStore("files",{keyPath:"name"}).createIndex("name","name",{unique:!0})}}])&&o(t.prototype,n),r&&o(t,r),c}();e.FileDatabase=c}),require.register("file/FileModel.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FileModel=void 0;var i=t("curvature/model/Model");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,i.Model);var t,n,r,c=u(f);function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(s(e=c.call.apply(c,[this].concat(n))),"lastModified",void 0),l(s(e),"name",void 0),l(s(e),"size",void 0),l(s(e),"type",void 0),e}return t=f,r=[{key:"keyProps",value:function(){return["name"]}}],(n=null)&&o(t.prototype,n),r&&o(t,r),f}();e.FileModel=f}),require.register("file/Icon.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=void 0;var i=t("curvature/base/View");function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return u(e)}(this,n)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,i.View);var n=a(r);function r(e,i){var o,a,s,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o=n.call(this,e,i),a=u(o),s="template",c=t("./icon.html"),s in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,o}return r}();e.Icon=c}),require.register("file/drop.html",function(e,t,n){n.exports='<div data-module = "file-drop" cv-on = "drop(event);dragover(event)">\n\tdrop files here.\n</div>\n\n<div data-module = "file-list" cv-each = "files:file" cv-view = "/file/Icon">\n\t<div tabindex = "0" class = "file" cv-on = "dblclick:iconClicked(event, file)">\n\t\t<img src = "/gameboy.ico">\n\t\t<span>[[file.name]]</span>\n\t</div>\n</div>\n'}),require.register("file/icon.html",function(e,t,n){n.exports='<div class = "file" tabindex = "0">\n\t<img src = "/gameboy.ico">\n\t<span>[[file.name]]</span>\n</div>\n'}),require.register("format/BitPerPixel.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BitPerPixel=void 0;var i=t("../Format");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,i.Format);var t,n,r,c=u(l);function l(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=c.call.apply(c,[this].concat(o)),t=s(e),r=1,(n="depth")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=l,(n=[{key:"next",value:function(){if(!(this.inputPos>=this.inputBuffer.length)){for(var e=this.inputBuffer[this.inputPos++],t=0,n=[(128&e)>>7,(64&e)>>6,(32&e)>>5,(16&e)>>4,(8&e)>>3,(4&e)>>2,(2&e)>>1,(1&e)>>0];t<n.length;t++){var r=n[t],i=4*this.outputPos;this.outputBuffer[i+0]=255*r,this.outputBuffer[i+1]=255*r,this.outputBuffer[i+2]=255*r,this.outputBuffer[i+3]=255,this.outputPos++}return 4*this.outputPos<this.outputBuffer.length}}}])&&o(t.prototype,n),r&&o(t,r),l}();e.BitPerPixel=l}),require.register("format/BytePerPixel.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BytePerPixel=void 0;var i=t("../Format");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,i.Format);var t,n,r,c=u(l);function l(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=c.call.apply(c,[this].concat(o)),t=s(e),r=8,(n="depth")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=l,(n=[{key:"next",value:function(){if(!(this.inputPos>=this.inputBuffer.length)){var e=this.inputBuffer[this.inputPos++],t=4*this.outputPos;return this.outputBuffer[t+0]=e,this.outputBuffer[t+1]=e,this.outputBuffer[t+2]=e,this.outputBuffer[t+3]=255,this.outputPos++,t<this.outputBuffer.length}}}])&&o(t.prototype,n),r&&o(t,r),l}();e.BytePerPixel=l}),require.register("format/Gameboy1bpp.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gameboy1bpp=void 0;var i=t("../Format");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,i.Format);var t,n,r,c=u(f);function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(s(e=c.call.apply(c,[this].concat(n))),"tileWidth",8),l(s(e),"tileHeight",8),l(s(e),"depth",1),e}return t=f,(n=[{key:"next",value:function(){if(!(this.inputPos>=this.inputBuffer.length)){var e=[[255,255,255],[68,68,68],[204,204,204],[0,0,0]],t=this.inputBuffer[this.inputPos++],n=Math.floor(this.width/this.tileWidth),r=[(1&t)>>0,(2&t)>>1,(4&t)>>2,(8&t)>>3,(16&t)>>4,(32&t)>>5,(64&t)>>6,(128&t)>>7],i=this.tileWidth*this.tileHeight;for(var o in r){var a=Math.floor(this.outputPos/i),u=a%n,s=Math.floor(a/n),c=this.outputPos%i,l=Math.floor(c/this.tileWidth),f=this.tileWidth-c%this.tileWidth,p=u*this.tileWidth+f,v=s*this.tileHeight+l,h=n*this.tileWidth*v+p;this.outputBuffer[4*h+0]=e[r[o]][0],this.outputBuffer[4*h+1]=e[r[o]][1],this.outputBuffer[4*h+2]=e[r[o]][2],this.outputBuffer[4*h+3]=255,this.outputPos++}return 4*this.outputPos<this.outputBuffer.length}}}])&&o(t.prototype,n),r&&o(t,r),f}();e.Gameboy1bpp=f}),require.register("format/Gameboy1bppCol.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gameboy1bppCol=void 0;var i=t("./Gameboy1bpp");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,i.Gameboy1bpp);var t,n,r,c=u(f);function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(s(e=c.call.apply(c,[this].concat(n))),"tileWidth",2),l(s(e),"tileHeight",2),l(s(e),"depth",1),e}return t=f,(n=[{key:"next",value:function(){if(!(this.inputPos>=this.inputBuffer.length)){var e=this.inputBuffer[this.inputPos++],t=Math.floor(this.width/this.tileWidth),n=[(1&e)>>0,(2&e)>>1,(4&e)>>2,(8&e)>>3,(16&e)>>4,(32&e)>>5,(64&e)>>6,(128&e)>>7],r=this.tileWidth*this.tileHeight;for(var i in n){var o=Math.floor(this.outputPos/r),a=o%t,u=Math.floor(o/t),s=this.outputPos%Math.pow(this.tileWidth,2),c=Math.floor(s/this.tileWidth),l=s%this.tileHeight,f=a*this.tileWidth+c,p=u*this.tileHeight+l,v=4*(this.width*p+f);this.outputBuffer[v+0]=n[i]?255:0,this.outputBuffer[v+1]=n[i]?255:0,this.outputBuffer[v+2]=n[i]?255:0,this.outputBuffer[v+3]=255,this.outputPos++}return 4*this.outputPos<this.outputBuffer.length}}}])&&o(t.prototype,n),r&&o(t,r),f}();e.Gameboy1bppCol=f}),require.register("format/Gameboy2bpp.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gameboy2bpp=void 0;var i=t("../Format");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return s(e)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,i.Format);var t,n,r,c=u(f);function f(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l(s(r=c.call(this)),"tileWidth",8),l(s(r),"tileHeight",8),l(s(r),"depth",2),r.inputBuffer=e,r.outputBuffer=t,r.width=n,r}return t=f,(n=[{key:"next",value:function(){if(!(this.inputPos>=this.inputBuffer.length)){var e=[[255,255,255],[51,51,51],[153,153,153],[0,0,0]],t=this.inputBuffer[this.inputPos++],n=this.inputBuffer[this.inputPos++],r=Math.floor(this.width/this.tileWidth),i=[((128&t)<<1|128&n)>>7,((64&t)<<1|64&n)>>6,((32&t)<<1|32&n)>>5,((16&t)<<1|16&n)>>4,((8&t)<<1|8&n)>>3,((4&t)<<1|4&n)>>2,((2&t)<<1|2&n)>>1,((1&t)<<1|1&n)>>0],o=this.tileWidth*this.tileHeight;for(var a in i){var u=Math.floor(this.outputPos/o),s=u%r,c=Math.floor(u/r),l=this.outputPos%o,f=Math.floor(l/this.tileWidth),p=l%this.tileWidth,v=s*this.tileWidth+p,h=c*this.tileHeight+f,d=r*this.tileWidth*h+v;this.outputBuffer[4*d+0]=e[i[a]][0],this.outputBuffer[4*d+1]=e[i[a]][1],this.outputBuffer[4*d+2]=e[i[a]][2],this.outputBuffer[4*d+3]=255,this.outputPos++}return 4*this.outputPos<this.outputBuffer.length}}}])&&o(t.prototype,n),r&&o(t,r),f}();e.Gameboy2bpp=f}),require.register("initialize.js",function(e,t,n){"use strict";t("curvature/base/View"),t("curvature/base/Tag");var r=t("./panel/Panel"),i=t("./file/Drop");document.addEventListener("DOMContentLoaded",function(){var e=new i.Drop,t=new r.Panel({type:"root",widget:e});e.args.panel=t,t.render(document.body)})}),require.register("menu/Menu.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0;var i=t("curvature/base/Mixin"),o=t("curvature/base/View"),a=t("../processor/Deinterlace"),u=t("../processor/Invert"),s=t("../processor/RLE"),c=t("../panel/Panelable");t("../panel/Panel");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,o.View);var n,r,i,c=p(h);function h(e,n){var r,i,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),r=c.call(this,e,n),i=v(r),o="template",l=t("./menu.html"),o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,r.args.links={Invert:u.Invert,RLE:s.RLE,Deinterlace:a.Deinterlace},Object.assign(r.panel.args,{widget:v(r),title:"Select a Processor"}),r}return n=h,(r=[{key:"click",value:function(e,t,n){var r=this.args.panel,i=new t({input:this.args.input,panel:r});r.panels.add(i.panel),this.remove()}}])&&l(n.prototype,r),i&&l(n,i),h}();e.Menu=d,i.Mixin.to(d,c.Panelable)}),require.register("menu/menu.html",function(e,t,n){n.exports='<div data-module = "menu" cv-each = "links:processor:title">\n\t<div>\n\t\t<a cv-link = "/process/[[title]]" cv-on = "click(event, processor, title)">\n\t\t\t[[title]]\n\t\t</a>\n\t</div>\n</div>\n'}),require.register("panel/Panel.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Panel=void 0;var r=t("curvature/base/View"),i=t("curvature/base/Bag");function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,r.View);var n,l,p,v=s(h);function h(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),f(c(r=v.call(this,e,n)),"template",t("./panel.html")),r.host=null,r.openLeft=0,r.openTop=0,r.args.title=r.args.title||null,r.args.widget=r.args.widget||null,r.args.left=0,r.args.top=0,r.args.z=0,r.panels=new i.Bag(function(e,t,n){n===i.Bag.ITEM_ADDED&&(e.host=c(r),r.openLeft+=57,r.openTop+=93,e.args.left=r.openLeft,e.args.top=r.openTop,e.args.z=Object.values(r.panels.list).length,r.openLeft%=Math.floor(window.innerWidth/2),r.openTop%=Math.floor(window.innerHeight/2),e.onRemove(function(){return r.panels.remove(e)}))}),r.args.panels=r.panels.list,r}return n=h,(l=[{key:"onAttached",value:function(e){var t=this;this.args.bindTo(["left","top"],function(e,n){var r=t.tags.panel;if(r){var i=document.body,o=i.clientWidth-r.clientWidth,a=i.clientHeight-r.clientHeight;"left"===n&&e>o&&(e=o),"top"===n&&e>a&&(e=a),e<0&&(e=0),t.args[n]=e,t.tags.panel.style(f({},"--".concat(n),"".concat(e,"px")))}},{wait:0}),this.args.bindTo("z",function(e,n){t.tags.panel.style(f({},"--".concat(n),"".concat(e)))})}},{key:"mousedown",value:function(e){if(this.host){var t=Object.values(this.host.panels.list).sort(function(e,t){return t.z>e.z});for(var n in t)if(t[n]!==this)t[n].args.z>this.args.z&&t[n].args.z--;else if(0===n)break;this.args.z=t.length}}},{key:"startFollow",value:function(){var e=this;this.stopMoving=this.listen(document,"mousemove",function(t){e.args.left+=t.movementX,e.args.top+=t.movementY}),this.listen(document,"mouseup",function(t){e.stopMoving(),e.stopMoving=!1},{once:!0})}},{key:"close",value:function(){"object"==o(this.args.widget)&&"function"==typeof this.args.widget.remove&&this.args.widget.remove(),this.remove()}}])&&a(n.prototype,l),p&&a(n,p),h}();e.Panel=p}),require.register("panel/Panelable.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Panelable=void 0;var r=t("./Panel");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=Symbol("MyPanel"),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"panel",get:function(){return this[o]||(this[o]=new r.Panel({},this))}}])&&i(t.prototype,n),a&&i(t,a),e}();e.Panelable=a}),require.register("panel/panel.html",function(e,t,n){n.exports='<div data-module = "panel" data-panel-type = "[[type]]" cv-ref = "panel" cv-on = "mousedown:mousedown(event):c">\n\t<div class = "titlebar" cv-on = "mousedown:startFollow(event)" cv-if = "title">\n\t\t<span class = "icon inline-icon"></span>\n\t\t<span>[[title]]</span>\n\t\t<div class = "right">\n\t\t\t<div class = "icon inline-icon x-icon" cv-on = "click:close(event)"></div>\n\t\t</div>\n\t</div>\n\t<div class = "widget">[[widget]]</div>\n\t<div class = "panels" cv-each = "panels:panel">[[panel]]</div>\n</div>\n'}),require.register("processor/Deinterlace.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Deinterlace=void 0;t("curvature/base/View"),t("../panel/Panel");var i=t("../canvas/Canvas"),o=(t("pokemon-parser/BitArray"),t("../Processor")),a=t("pokemon-parser/decompress/Merge");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return l(e)}(this,n)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(v,o.Processor);var n,r,f,p=c(v);function v(e,n){var r,i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),r=p.call(this,e,n),i=l(r),o="template",a=t("./deinterlace.html"),o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,Object.assign(r.panel.args,{title:"Deinterlace"}),r}return n=v,(r=[{key:"run",value:function(){var e=this.args.panel,t=this.args.input.args.width,n=this.args.input.args.buffer,r=new a.Merge(n,t),o=r.buffer,u="Deinterlaced "+this.args.inputName,s=new i.Canvas({buffer:o,panel:e,title:u,width:t,height:t,scale:4,decoder:"bytes"});e.panels.add(s.panel),r.decompress(),this.outputWidget=s,this.outputWidget.drawDots(),this.remove()}},{key:"pixelToRowPixel",value:function(e){var t=this.args.input.args.width,n=e%2==0,r=Math.floor(e/t);return 2*r+e%t*t+(n?0:-(t-1))}}])&&u(n.prototype,r),f&&u(n,f),v}();e.Deinterlace=p}),require.register("processor/Invert.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;t("curvature/base/View"),t("../panel/Panel");var i=t("../canvas/Canvas"),o=t("../Processor");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,o.Processor);var n,r,l,f=s(p);function p(e,n){var r,i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),r=f.call(this,e,n),i=c(r),o="template",a=t("./invert.html"),o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,Object.assign(r.panel.args,{title:"Invert"}),r}return n=p,(r=[{key:"run",value:function(){for(var e=this.args.panel,t=Number(this.args.offset),n=Number(this.args.length),r=this.args.input.args.buffer,o=new Uint8Array(n),a=0;a<n;a++)o[a]=255^r[a+t];var u="Inverted "+this.args.inputName,s=new i.Canvas({buffer:o,panel:e,title:u,decoder:this.args.input.args.decoder,height:this.args.input.args.height,width:this.args.input.args.width,scale:this.args.input.args.scale});e.panels.add(s.panel),this.remove()}}])&&a(n.prototype,r),l&&a(n,l),p}();e.Invert=f}),require.register("processor/RLE.js",function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RLE=void 0;t("curvature/base/View"),t("../panel/Panel");var i=t("../canvas/Canvas"),o=t("../Processor"),a=t("pokemon-parser/decompress/RleDelta");function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,o.Processor);var n,r,s,v=f(d);function d(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),h(p(r=v.call(this,e,n)),"template",t("./rle.html")),h(p(r),"table1",u(Array(16)).map(function(e,t){return(2<<t)-1})),r.sideSize=7,r.tileSize=8,r.args.offset=16658,r.args.offset=220252,Object.assign(r.panel.args,{title:"RLE + Delta"}),r}return n=d,(r=[{key:"run",value:function(){var e=this.args.input.args.buffer,t=this.args.panel,n=e.slice(this.args.offset),r=new a.RleDelta(n),o=new i.Canvas({buffer:r.buffer,panel:t,title:"RLE+Delta Decoded "+this.args.inputName,width:r.sideSize*r.tileSize,height:r.sideSize*r.tileSize*2,scale:4,decoder:"gameboy-1bit-cols",module:"rle"});t.panels.add(o.panel),this.outputWidget=o,r.decompress(),this.outputWidget.drawDots(),this.remove()}}])&&c(n.prototype,r),s&&c(n,s),d}();e.RLE=d}),require.register("processor/deinterlace.html",function(e,t,n){n.exports='<div data-module = "canvas invert">\n\t<div class = "column">\n\t\t<label><p>input buffer: [[inputName]]</p></label>\n\t\t<div class = "row right">\n\t\t\t<button cv-on = "click:run(event)">deinterlace</button>\n\t\t</div>\n\t</div>\n</div>\n'}),require.register("processor/invert.html",function(e,t,n){n.exports='<div data-module = "canvas invert">\n\t<div class = "column">\n\t\t<label><p>input buffer: [[inputName]]</p></label>\n\t\t<label class = "column">\n\t\t\t<p>offset</p>\n\t\t\t<input type = "number" cv-bind = "offset">\n\t\t</label>\n\t\t<label class = "column">\n\t\t\t<p>length</p>\n\t\t\t<input type = "number" cv-bind = "length">\n\t\t</label>\n\t\t<div class = "row right">\n\t\t\t<button cv-on = "click:run(event)">invert</button>\n\t\t</div>\n\t</div>\n</div>\n'}),require.register("processor/rle.html",function(e,t,n){n.exports='<div data-module = "canvas invert">\n\t<div class = "column">\n\n\t\t<label><p>input buffer: [[inputName]]</p></label>\n\n\t\t<label class = "column">\n\t\t\t<p>offset</p>\n\t\t\t<input cv-bind = "offset">\n\t\t</label>\n\n\t\t<div class = "row right">\n\t\t\t<button cv-on = "click:run(event)">decompress</button>\n\t\t</div>\n\n\t</div>\n</div>\n'}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");
